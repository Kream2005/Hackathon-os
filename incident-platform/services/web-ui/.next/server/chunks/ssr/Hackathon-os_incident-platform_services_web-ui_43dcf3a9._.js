module.exports=[85566,(a,b,c)=>{"use strict";b.exports=a.r(30329).vendored["react-ssr"].ReactDOM},92008,a=>{"use strict";let b=(0,a.i(50885).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],92008)},56950,a=>{"use strict";var b=a.i(5452);let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=b.clsx;a.s(["cva",0,(a,b)=>e=>{var f;if((null==b?void 0:b.variants)==null)return d(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return d(a,i,null==b||null==(f=b.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}])},68211,10519,33547,a=>{"use strict";var b=a.i(5554),c=a.i(49410);function d(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function e(...a){return b=>{let c=!1,e=a.map(a=>{let e=d(a,b);return c||"function"!=typeof e||(c=!0),e});if(c)return()=>{for(let b=0;b<e.length;b++){let c=e[b];"function"==typeof c?c():d(a[b],null)}}}}function f(...a){return c.useCallback(e(...a),a)}a.s(["composeRefs",()=>e,"useComposedRefs",()=>f],10519);var g=c.forwardRef((a,d)=>{let{children:e,...f}=a,g=c.Children.toArray(e),i=g.find(j);if(i){let a=i.props.children,e=g.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(h,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(h,{...f,ref:d,children:e})});g.displayName="Slot";var h=c.forwardRef((a,b)=>{let{children:d,...f}=a;if(c.isValidElement(d)){var g;let a,h,i=(g=d,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref);return c.cloneElement(d,{...function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{f(...a),e(...a)}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,d.props),ref:b?e(b,i):i})}return c.Children.count(d)>1?c.Children.only(null):null});h.displayName="SlotClone";var i=({children:a})=>(0,b.jsx)(b.Fragment,{children:a});function j(a){return c.isValidElement(a)&&a.type===i}a.s(["Slot",()=>g],33547);var k=a.i(56950),l=a.i(54868);let m=(0,k.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=c.forwardRef(({className:a,variant:c,size:d,asChild:e=!1,...f},h)=>{let i=e?g:"button";return(0,b.jsx)(i,{className:(0,l.cn)(m({variant:c,size:d,className:a})),ref:h,...f})});n.displayName="Button",a.s(["Button",()=>n],68211)},9974,a=>{"use strict";var b=a.i(64773);a.s(["mutate",()=>b.j])},70375,66777,a=>{"use strict";var b=a.i(5554),c=a.i(54868);let d={default:"border-border",critical:"border-red-500/20",warning:"border-amber-500/20",success:"border-indigo-500/20"},e={default:"bg-secondary text-muted-foreground",critical:"bg-red-500/10 text-red-500 dark:text-red-400",warning:"bg-amber-500/10 text-amber-500 dark:text-amber-400",success:"bg-indigo-500/10 text-indigo-500 dark:text-indigo-400"};function f({title:a,value:f,subtitle:g,icon:h,trend:i,trendValue:j,variant:k="default"}){return(0,b.jsxs)("div",{className:(0,c.cn)("rounded-xl border bg-card p-5",d[k]),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:a}),(0,b.jsx)("p",{className:"text-2xl font-semibold text-foreground",children:f}),g&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:g})]}),(0,b.jsx)("div",{className:(0,c.cn)("rounded-lg p-2.5",e[k]),children:(0,b.jsx)(h,{className:"h-4 w-4"})})]}),i&&j&&(0,b.jsxs)("div",{className:"mt-3 flex items-center gap-1 text-xs",children:[(0,b.jsxs)("span",{className:(0,c.cn)("down"===i?"text-indigo-500 dark:text-indigo-400":"up"===i?"text-red-500 dark:text-red-400":"text-muted-foreground"),children:["up"===i?"+":"down"===i?"-":"",j]}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"vs last period"})]})]})}a.s(["MetricCard",()=>f],70375);let g=(0,a.i(50885).default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);a.s(["Timer",()=>g],66777)},44642,a=>{"use strict";var b=a.i(5554),c=a.i(54868);let d={open:{bg:"bg-red-500/10",text:"text-red-600 dark:text-red-400",label:"Open"},acknowledged:{bg:"bg-amber-500/10",text:"text-amber-600 dark:text-amber-400",label:"Acknowledged"},in_progress:{bg:"bg-blue-500/10",text:"text-blue-600 dark:text-blue-400",label:"In Progress"},resolved:{bg:"bg-indigo-500/10",text:"text-indigo-600 dark:text-indigo-400",label:"Resolved"}};function e({status:a}){let e=d[a];return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center rounded-md px-2 py-1 text-xs font-medium",e.bg,e.text),children:e.label})}a.s(["StatusBadge",()=>e])},85400,a=>{"use strict";var b=a.i(5554),c=a.i(62591),d=a.i(66304),e=a.i(44642),f=a.i(39138);function g({incidents:a}){return(0,b.jsx)("div",{className:"rounded-xl border border-border bg-card",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{className:"border-border hover:bg-transparent",children:[(0,b.jsx)(f.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Incident"}),(0,b.jsx)(f.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Severity"}),(0,b.jsx)(f.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Status"}),(0,b.jsx)(f.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Service"}),(0,b.jsx)(f.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Assigned"}),(0,b.jsx)(f.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Created"})]})}),(0,b.jsxs)(f.TableBody,{children:[a.map(a=>(0,b.jsxs)(f.TableRow,{className:"border-border transition-colors hover:bg-secondary/50",children:[(0,b.jsxs)(f.TableCell,{children:[(0,b.jsx)(c.default,{href:`/incidents/${a.id}`,className:"font-medium text-foreground hover:text-primary",children:a.title}),(0,b.jsx)("p",{className:"mt-0.5 font-mono text-xs text-muted-foreground",children:a.id})]}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)(d.SeverityBadge,{severity:a.severity})}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)(e.StatusBadge,{status:a.status})}),(0,b.jsx)(f.TableCell,{children:(0,b.jsx)("span",{className:"rounded-md bg-secondary px-2 py-1 font-mono text-xs text-secondary-foreground",children:a.service})}),(0,b.jsx)(f.TableCell,{className:"text-sm text-muted-foreground",children:a.assigned_to||"Unassigned"}),(0,b.jsx)(f.TableCell,{className:"text-sm text-muted-foreground",children:function(a){let b=new Date,c=new Date(a),d=Math.floor((b.getTime()-c.getTime())/6e4);if(d<60)return`${d}m ago`;let e=Math.floor(d/60);if(e<24)return`${e}h ago`;let f=Math.floor(e/24);return`${f}d ago`}(a.created_at)})]},a.id)),0===a.length&&(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No incidents found."})})]})]})})}a.s(["IncidentsTable",()=>g])},66304,a=>{"use strict";var b=a.i(5554),c=a.i(54868);let d={critical:{bg:"bg-red-500/10",text:"text-red-600 dark:text-red-400",dot:"bg-red-500 dark:bg-red-400"},high:{bg:"bg-orange-500/10",text:"text-orange-600 dark:text-orange-400",dot:"bg-orange-500 dark:bg-orange-400"},medium:{bg:"bg-amber-500/10",text:"text-amber-600 dark:text-amber-400",dot:"bg-amber-500 dark:bg-amber-400"},low:{bg:"bg-blue-500/10",text:"text-blue-600 dark:text-blue-400",dot:"bg-blue-500 dark:bg-blue-400"}};function e({severity:a}){let e=d[a];return(0,b.jsxs)("span",{className:(0,c.cn)("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium",e.bg,e.text),children:[(0,b.jsx)("span",{className:(0,c.cn)("h-1.5 w-1.5 rounded-full",e.dot)}),a.charAt(0).toUpperCase()+a.slice(1)]})}a.s(["SeverityBadge",()=>e])},39138,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},17909,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},33823,a=>{"use strict";let b=(0,a.i(50885).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],33823)},13721,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(31117),e=a.i(9974),f=a.i(55143),g=a.i(70375),h=a.i(85400),i=a.i(61124),j=a.i(92008);let k=(0,a.i(50885).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var l=a.i(66777),m=a.i(28303),n=a.i(65215),o=a.i(33823),p=a.i(68211),q=a.i(17909),r=a.i(9552),s=a.i(63045);function t(a){return a<60?`${Math.round(a)}s`:a<3600?`${Math.round(a/60)}m`:`${(a/3600).toFixed(1)}h`}function u(){let[a,u]=(0,c.useState)("all"),{data:v,error:w,isLoading:x}=(0,d.default)("/api/v1/incidents",f.incidentsFetcher,{refreshInterval:1e4}),{data:y}=(0,d.default)("/api/v1/incidents/stats/summary",()=>(0,f.getIncidentSummary)(),{refreshInterval:1e4}),z=y?.open??v?.filter(a=>"open"===a.status).length??0,A=y?.acknowledged??v?.filter(a=>"acknowledged"===a.status).length??0,B=y?.in_progress??v?.filter(a=>"in_progress"===a.status).length??0,C=y?.resolved??v?.filter(a=>"resolved"===a.status).length??0,D=y?.avg_mtta_seconds??(0,c.useMemo)(()=>{if(!v)return 0;let a=v.filter(a=>null!==a.mtta_seconds);return 0===a.length?0:a.reduce((a,b)=>a+(b.mtta_seconds||0),0)/a.length},[v]),E=y?.avg_mttr_seconds??(0,c.useMemo)(()=>{if(!v)return 0;let a=v.filter(a=>null!==a.mttr_seconds);return 0===a.length?0:a.reduce((a,b)=>a+(b.mttr_seconds||0),0)/a.length},[v]),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)("medium"),[P,Q]=(0,c.useState)("");async function R(){if(J.trim()&&L.trim()){I(!0);try{await (0,f.createIncident)({title:J.trim(),service:L.trim(),severity:N,assigned_to:P.trim()||void 0}),(0,e.mutate)("/api/v1/incidents"),(0,e.mutate)("/api/v1/incidents/stats/summary"),G(!1),K(""),M(""),O("medium"),Q("")}catch(a){console.error("Failed to create incident:",a)}finally{I(!1)}}}let S=(0,c.useMemo)(()=>v?"all"===a?v:v.filter(b=>b.status===a):[],[v,a]),T=[{value:"all",label:"All",count:v?.length??0},{value:"open",label:"Open",count:z},{value:"acknowledged",label:"Acknowledged",count:A},{value:"in_progress",label:"In Progress",count:B},{value:"resolved",label:"Resolved",count:C}];return(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Dashboard"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Real-time incident overview and SRE metrics"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(r.Dialog,{open:F,onOpenChange:G,children:[(0,b.jsx)(r.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(p.Button,{className:"gap-1.5",children:[(0,b.jsx)(n.Plus,{className:"h-4 w-4"}),"New Incident"]})}),(0,b.jsxs)(r.DialogContent,{children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Create Incident"}),(0,b.jsx)(r.DialogDescription,{children:"Manually create a new incident for tracking."})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4 py-2",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Title"}),(0,b.jsx)(q.Input,{placeholder:"e.g. API Gateway 5xx spike",value:J,onChange:a=>K(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Service"}),(0,b.jsx)(q.Input,{placeholder:"e.g. frontend-api",value:L,onChange:a=>M(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Severity"}),(0,b.jsxs)(s.Select,{value:N,onValueChange:O,children:[(0,b.jsx)(s.SelectTrigger,{children:(0,b.jsx)(s.SelectValue,{})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"critical",children:"Critical"}),(0,b.jsx)(s.SelectItem,{value:"high",children:"High"}),(0,b.jsx)(s.SelectItem,{value:"medium",children:"Medium"}),(0,b.jsx)(s.SelectItem,{value:"low",children:"Low"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Assigned To (optional)"}),(0,b.jsx)(q.Input,{placeholder:"e.g. alice@example.com",value:P,onChange:a=>Q(a.target.value)})]})]}),(0,b.jsxs)(r.DialogFooter,{children:[(0,b.jsx)(p.Button,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),(0,b.jsxs)(p.Button,{onClick:R,disabled:H||!J.trim()||!L.trim(),className:"gap-1.5",children:[(0,b.jsx)(o.Send,{className:"h-4 w-4"}),"Create"]})]})]})]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-primary"}),"Live"]})]})]}),w&&(0,b.jsx)("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4 text-sm text-destructive",children:"Failed to load incidents from the API Gateway. Make sure the backend services are running."}),x&&(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(m.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,b.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading incidents..."})]}),!x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(g.MetricCard,{title:"Open Incidents",value:z,subtitle:`${A} acknowledged`,icon:i.AlertTriangle,variant:z>2?"critical":"default"}),(0,b.jsx)(g.MetricCard,{title:"In Progress",value:B,subtitle:"Being investigated",icon:j.Clock,variant:"warning"}),(0,b.jsx)(g.MetricCard,{title:"Avg MTTA",value:t(D),subtitle:"Mean Time to Acknowledge",icon:l.Timer,variant:"default"}),(0,b.jsx)(g.MetricCard,{title:"Resolved",value:C,subtitle:`Avg MTTR: ${t(E)}`,icon:k,variant:"success"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:T.map(c=>(0,b.jsxs)(p.Button,{variant:a===c.value?"default":"outline",size:"sm",onClick:()=>u(c.value),className:"gap-1.5",children:[c.label,(0,b.jsx)("span",{className:"rounded-full bg-background/20 px-1.5 py-0.5 text-[10px] font-mono",children:c.count})]},c.value))}),(0,b.jsx)(h.IncidentsTable,{incidents:S})]})]})]})}a.s(["default",()=>u],13721)}];

//# sourceMappingURL=Hackathon-os_incident-platform_services_web-ui_43dcf3a9._.js.map