module.exports=[10715,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},92008,a=>{"use strict";let b=(0,a.i(50885).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],92008)},44642,a=>{"use strict";var b=a.i(5554),c=a.i(54868);let d={open:{bg:"bg-red-500/10",text:"text-red-600 dark:text-red-400",label:"Open"},acknowledged:{bg:"bg-amber-500/10",text:"text-amber-600 dark:text-amber-400",label:"Acknowledged"},in_progress:{bg:"bg-blue-500/10",text:"text-blue-600 dark:text-blue-400",label:"In Progress"},resolved:{bg:"bg-indigo-500/10",text:"text-indigo-600 dark:text-indigo-400",label:"Resolved"}};function e({status:a}){let e=d[a];return(0,b.jsx)("span",{className:(0,c.cn)("inline-flex items-center rounded-md px-2 py-1 text-xs font-medium",e.bg,e.text),children:e.label})}a.s(["StatusBadge",()=>e])},3088,a=>{"use strict";let b=(0,a.i(50885).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],3088)},97307,68438,a=>{"use strict";var b=a.i(50885);let c=(0,b.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>c],97307);let d=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>d],68438)},66304,a=>{"use strict";var b=a.i(5554),c=a.i(54868);let d={critical:{bg:"bg-red-500/10",text:"text-red-600 dark:text-red-400",dot:"bg-red-500 dark:bg-red-400"},high:{bg:"bg-orange-500/10",text:"text-orange-600 dark:text-orange-400",dot:"bg-orange-500 dark:bg-orange-400"},medium:{bg:"bg-amber-500/10",text:"text-amber-600 dark:text-amber-400",dot:"bg-amber-500 dark:bg-amber-400"},low:{bg:"bg-blue-500/10",text:"text-blue-600 dark:text-blue-400",dot:"bg-blue-500 dark:bg-blue-400"}};function e({severity:a}){let e=d[a];return(0,b.jsxs)("span",{className:(0,c.cn)("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium",e.bg,e.text),children:[(0,b.jsx)("span",{className:(0,c.cn)("h-1.5 w-1.5 rounded-full",e.dot)}),a.charAt(0).toUpperCase()+a.slice(1)]})}a.s(["SeverityBadge",()=>e])},56950,a=>{"use strict";var b=a.i(5452);let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=b.clsx;a.s(["cva",0,(a,b)=>e=>{var f;if((null==b?void 0:b.variants)==null)return d(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return d(a,i,null==b||null==(f=b.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}])},68211,10519,33547,a=>{"use strict";var b=a.i(5554),c=a.i(49410);function d(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function e(...a){return b=>{let c=!1,e=a.map(a=>{let e=d(a,b);return c||"function"!=typeof e||(c=!0),e});if(c)return()=>{for(let b=0;b<e.length;b++){let c=e[b];"function"==typeof c?c():d(a[b],null)}}}}function f(...a){return c.useCallback(e(...a),a)}a.s(["composeRefs",()=>e,"useComposedRefs",()=>f],10519);var g=c.forwardRef((a,d)=>{let{children:e,...f}=a,g=c.Children.toArray(e),i=g.find(j);if(i){let a=i.props.children,e=g.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(h,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(h,{...f,ref:d,children:e})});g.displayName="Slot";var h=c.forwardRef((a,b)=>{let{children:d,...f}=a;if(c.isValidElement(d)){var g;let a,h,i=(g=d,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref);return c.cloneElement(d,{...function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{f(...a),e(...a)}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,d.props),ref:b?e(b,i):i})}return c.Children.count(d)>1?c.Children.only(null):null});h.displayName="SlotClone";var i=({children:a})=>(0,b.jsx)(b.Fragment,{children:a});function j(a){return c.isValidElement(a)&&a.type===i}a.s(["Slot",()=>g],33547);var k=a.i(56950),l=a.i(54868);let m=(0,k.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=c.forwardRef(({className:a,variant:c,size:d,asChild:e=!1,...f},h)=>{let i=e?g:"button";return(0,b.jsx)(i,{className:(0,l.cn)(m({variant:c,size:d,className:a})),ref:h,...f})});n.displayName="Button",a.s(["Button",()=>n],68211)},9974,a=>{"use strict";var b=a.i(64773);a.s(["mutate",()=>b.j])},85853,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},88309,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(62591),e=a.i(31117),f=a.i(9974),g=a.i(55143),h=a.i(66304),i=a.i(44642),j=a.i(68211),k=a.i(85853),l=a.i(10715),m=a.i(50885);let n=(0,m.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=a.i(97307),p=a.i(68438),q=a.i(92008),r=a.i(3088),s=a.i(61124);let t=(0,m.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var u=a.i(63829),v=a.i(28303);function w(a){return new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function x(a){return null===a?"--":a<60?`${Math.round(a)}s`:a<3600?`${Math.round(a/60)}m ${Math.round(a%60)}s`:`${Math.floor(a/3600)}h ${Math.round(a%3600/60)}m`}function y({params:a}){let{id:m}=(0,c.use)(a),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(!1),{data:C,error:D,isLoading:E}=(0,e.default)(`/api/v1/incidents/${m}`,g.fetcher,{refreshInterval:5e3});if(E)return(0,b.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,b.jsx)(v.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,b.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading incident..."})]});if(D||!C)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 p-12",children:[(0,b.jsx)(s.AlertTriangle,{className:"h-12 w-12 text-muted-foreground"}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:D?"Failed to load incident":"Incident not found"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:D?"Make sure the API Gateway and Incident Management service are running.":`No incident with ID "${m}" exists.`}),(0,b.jsx)(d.default,{href:"/incidents",children:(0,b.jsx)(j.Button,{variant:"outline",children:"Back to incidents"})})]});async function F(a){B(!0);try{await (0,g.apiFetch)(`/api/v1/incidents/${m}`,{method:"PATCH",body:JSON.stringify({status:a})}),(0,f.mutate)(`/api/v1/incidents/${m}`),(0,f.mutate)("/api/v1/incidents")}catch(a){console.error("Failed to update status:",a)}finally{B(!1)}}async function G(){if(y.trim()){B(!0);try{await (0,g.apiFetch)(`/api/v1/incidents/${m}`,{method:"PATCH",body:JSON.stringify({note:{author:"Operator",content:y.trim()}})}),(0,f.mutate)(`/api/v1/incidents/${m}`),z("")}catch(a){console.error("Failed to add note:",a)}finally{B(!1)}}}let H=C.notes??[],I=[{time:C.created_at,label:"Incident created",icon:s.AlertTriangle,color:"text-red-400"},...C.acknowledged_at?[{time:C.acknowledged_at,label:"Acknowledged",icon:o.CheckCircle,color:"text-yellow-400"}]:[],...C.resolved_at?[{time:C.resolved_at,label:"Resolved",icon:o.CheckCircle,color:"text-emerald-400"}]:[],...H.map(a=>({time:a.created_at,label:`${a.author}: ${a.content}`,icon:t,color:"text-blue-400"}))].sort((a,b)=>new Date(a.time).getTime()-new Date(b.time).getTime());return(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)(d.default,{href:"/incidents",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground",children:[(0,b.jsx)(n,{className:"h-4 w-4"}),"Back to incidents"]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-xl font-semibold text-foreground",children:C.title}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.SeverityBadge,{severity:C.severity}),(0,b.jsx)(i.StatusBadge,{status:C.status}),(0,b.jsx)("span",{className:"rounded-md bg-secondary px-2 py-1 font-mono text-xs text-secondary-foreground",children:C.service}),(0,b.jsx)("span",{className:"font-mono text-xs text-muted-foreground",children:C.id})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["open"===C.status&&(0,b.jsxs)(j.Button,{onClick:()=>F("acknowledged"),className:"gap-1.5 bg-yellow-500/10 text-yellow-400 hover:bg-yellow-500/20",variant:"outline",disabled:A,children:[(0,b.jsx)(o.CheckCircle,{className:"h-4 w-4"}),"Acknowledge"]}),("acknowledged"===C.status||"in_progress"===C.status)&&(0,b.jsxs)(j.Button,{onClick:()=>F("resolved"),className:"gap-1.5 bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20",variant:"outline",disabled:A,children:[(0,b.jsx)(o.CheckCircle,{className:"h-4 w-4"}),"Resolve"]}),"acknowledged"===C.status&&(0,b.jsxs)(j.Button,{onClick:()=>F("in_progress"),className:"gap-1.5",variant:"outline",disabled:A,children:[(0,b.jsx)(u.Activity,{className:"h-4 w-4"}),"In Progress"]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-6 lg:col-span-2",children:[(0,b.jsxs)(l.Card,{className:"border-border bg-card",children:[(0,b.jsx)(l.CardHeader,{className:"pb-3",children:(0,b.jsx)(l.CardTitle,{className:"text-sm font-medium text-foreground",children:"Timeline"})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsx)("div",{className:"flex flex-col gap-4",children:I.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsxs)("div",{className:"mt-0.5 flex flex-col items-center",children:[(0,b.jsx)(a.icon,{className:`h-4 w-4 ${a.color}`}),c<I.length-1&&(0,b.jsx)("div",{className:"mt-1 h-8 w-px bg-border"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,b.jsx)("p",{className:"text-sm text-foreground",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:w(a.time)})]})]},c))})})]}),(0,b.jsxs)(l.Card,{className:"border-border bg-card",children:[(0,b.jsx)(l.CardHeader,{className:"pb-3",children:(0,b.jsx)(l.CardTitle,{className:"text-sm font-medium text-foreground",children:"Add Note"})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)(k.Textarea,{placeholder:"Add investigation notes...",value:y,onChange:a=>z(a.target.value),className:"min-h-[80px] bg-secondary"}),(0,b.jsxs)(j.Button,{onClick:G,size:"sm",className:"self-end",disabled:A,children:[(0,b.jsx)(t,{className:"mr-1.5 h-4 w-4"}),"Add Note"]})]})})]}),C.alerts&&C.alerts.length>0&&(0,b.jsxs)(l.Card,{className:"border-border bg-card",children:[(0,b.jsx)(l.CardHeader,{className:"pb-3",children:(0,b.jsxs)(l.CardTitle,{className:"text-sm font-medium text-foreground",children:["Linked Alerts (",C.alerts.length,")"]})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsx)("div",{className:"flex flex-col gap-2",children:C.alerts.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/50 px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,b.jsx)("p",{className:"text-sm text-foreground",children:a.message}),(0,b.jsx)("p",{className:"font-mono text-xs text-muted-foreground",children:a.id})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.SeverityBadge,{severity:a.severity}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:w(a.timestamp)})]})]},a.id))})})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)(l.Card,{className:"border-border bg-card",children:[(0,b.jsx)(l.CardHeader,{className:"pb-3",children:(0,b.jsx)(l.CardTitle,{className:"text-sm font-medium text-foreground",children:"Details"})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsxs)("dl",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("dt",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,b.jsx)(r.User,{className:"h-3.5 w-3.5"}),"Assigned to"]}),(0,b.jsx)("dd",{className:"text-sm text-foreground",children:C.assigned_to||"Unassigned"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("dt",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,b.jsx)(q.Clock,{className:"h-3.5 w-3.5"}),"Created"]}),(0,b.jsx)("dd",{className:"text-sm text-foreground",children:w(C.created_at)})]}),C.acknowledged_at&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("dt",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,b.jsx)(o.CheckCircle,{className:"h-3.5 w-3.5"}),"Acknowledged"]}),(0,b.jsx)("dd",{className:"text-sm text-foreground",children:w(C.acknowledged_at)})]}),C.resolved_at&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("dt",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,b.jsx)(p.XCircle,{className:"h-3.5 w-3.5"}),"Resolved"]}),(0,b.jsx)("dd",{className:"text-sm text-foreground",children:w(C.resolved_at)})]})]})})]}),(0,b.jsxs)(l.Card,{className:"border-border bg-card",children:[(0,b.jsx)(l.CardHeader,{className:"pb-3",children:(0,b.jsx)(l.CardTitle,{className:"text-sm font-medium text-foreground",children:"Response Metrics"})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsxs)("dl",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("dt",{className:"text-xs text-muted-foreground",children:"MTTA"}),(0,b.jsx)("dd",{className:"font-mono text-lg font-semibold text-foreground",children:x(C.mtta_seconds)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("dt",{className:"text-xs text-muted-foreground",children:"MTTR"}),(0,b.jsx)("dd",{className:"font-mono text-lg font-semibold text-foreground",children:x(C.mttr_seconds)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("dt",{className:"text-xs text-muted-foreground",children:"Linked Alerts"}),(0,b.jsx)("dd",{className:"font-mono text-lg font-semibold text-foreground",children:C.alerts?.length??0})]})]})})]})]})]})]})}a.s(["default",()=>y],88309)}];

//# sourceMappingURL=Hackathon-os_incident-platform_services_web-ui_de87d2a0._.js.map