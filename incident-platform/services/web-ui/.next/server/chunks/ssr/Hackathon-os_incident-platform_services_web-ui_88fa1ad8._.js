module.exports=[85566,(a,b,c)=>{"use strict";b.exports=a.r(30329).vendored["react-ssr"].ReactDOM},10715,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},56950,a=>{"use strict";var b=a.i(5452);let c=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,d=b.clsx;a.s(["cva",0,(a,b)=>e=>{var f;if((null==b?void 0:b.variants)==null)return d(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:g,defaultVariants:h}=b,i=Object.keys(g).map(a=>{let b=null==e?void 0:e[a],d=null==h?void 0:h[a];if(null===b)return null;let f=c(b)||c(d);return g[a][f]}),j=e&&Object.entries(e).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return d(a,i,null==b||null==(f=b.compoundVariants)?void 0:f.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...h,...j}[b]):({...h,...j})[b]===c})?[...a,c,d]:a},[]),null==e?void 0:e.class,null==e?void 0:e.className)}])},68211,10519,33547,a=>{"use strict";var b=a.i(5554),c=a.i(49410);function d(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}function e(...a){return b=>{let c=!1,e=a.map(a=>{let e=d(a,b);return c||"function"!=typeof e||(c=!0),e});if(c)return()=>{for(let b=0;b<e.length;b++){let c=e[b];"function"==typeof c?c():d(a[b],null)}}}}function f(...a){return c.useCallback(e(...a),a)}a.s(["composeRefs",()=>e,"useComposedRefs",()=>f],10519);var g=c.forwardRef((a,d)=>{let{children:e,...f}=a,g=c.Children.toArray(e),i=g.find(j);if(i){let a=i.props.children,e=g.map(b=>b!==i?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(h,{...f,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(h,{...f,ref:d,children:e})});g.displayName="Slot";var h=c.forwardRef((a,b)=>{let{children:d,...f}=a;if(c.isValidElement(d)){var g;let a,h,i=(g=d,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref);return c.cloneElement(d,{...function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{f(...a),e(...a)}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,d.props),ref:b?e(b,i):i})}return c.Children.count(d)>1?c.Children.only(null):null});h.displayName="SlotClone";var i=({children:a})=>(0,b.jsx)(b.Fragment,{children:a});function j(a){return c.isValidElement(a)&&a.type===i}a.s(["Slot",()=>g],33547);var k=a.i(56950),l=a.i(54868);let m=(0,k.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=c.forwardRef(({className:a,variant:c,size:d,asChild:e=!1,...f},h)=>{let i=e?g:"button";return(0,b.jsx)(i,{className:(0,l.cn)(m({variant:c,size:d,className:a})),ref:h,...f})});n.displayName="Button",a.s(["Button",()=>n],68211)},9974,a=>{"use strict";var b=a.i(64773);a.s(["mutate",()=>b.j])},14064,a=>{"use strict";let b=(0,a.i(50885).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],14064)},85853,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},66304,a=>{"use strict";var b=a.i(5554),c=a.i(54868);let d={critical:{bg:"bg-red-500/10",text:"text-red-600 dark:text-red-400",dot:"bg-red-500 dark:bg-red-400"},high:{bg:"bg-orange-500/10",text:"text-orange-600 dark:text-orange-400",dot:"bg-orange-500 dark:bg-orange-400"},medium:{bg:"bg-amber-500/10",text:"text-amber-600 dark:text-amber-400",dot:"bg-amber-500 dark:bg-amber-400"},low:{bg:"bg-blue-500/10",text:"text-blue-600 dark:text-blue-400",dot:"bg-blue-500 dark:bg-blue-400"}};function e({severity:a}){let e=d[a];return(0,b.jsxs)("span",{className:(0,c.cn)("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium",e.bg,e.text),children:[(0,b.jsx)("span",{className:(0,c.cn)("h-1.5 w-1.5 rounded-full",e.dot)}),a.charAt(0).toUpperCase()+a.slice(1)]})}a.s(["SeverityBadge",()=>e])},17909,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},39138,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(54868);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},33823,a=>{"use strict";let b=(0,a.i(50885).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],33823)},16251,a=>{"use strict";var b=a.i(5554),c=a.i(49410),d=a.i(31117),e=a.i(55143),f=a.i(66304),g=a.i(10715),h=a.i(68211),i=a.i(17909),j=a.i(39138),k=a.i(9552),l=a.i(63045),m=a.i(85853),n=a.i(14064),o=a.i(28303),p=a.i(65215),q=a.i(33823);let r=(0,a.i(50885).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var s=a.i(62591),t=a.i(9974);function u(){let[a,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)("medium"),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)("manual"),{data:J,error:K,isLoading:L}=(0,d.default)("/api/v1/alerts",e.alertsFetcher,{refreshInterval:1e4}),M=(0,c.useMemo)(()=>{if(!J)return[];let b=J;if("all"!==v&&(b=b.filter(a=>a.severity===v)),a.trim()){let c=a.toLowerCase();b=b.filter(a=>a.message.toLowerCase().includes(c)||a.service.toLowerCase().includes(c)||a.id.toLowerCase().includes(c))}return b},[J,v,a]),N=(0,c.useMemo)(()=>J?{critical:J.filter(a=>"critical"===a.severity).length,high:J.filter(a=>"high"===a.severity).length,medium:J.filter(a=>"medium"===a.severity).length,low:J.filter(a=>"low"===a.severity).length}:{critical:0,high:0,medium:0,low:0},[J]);async function O(){if(B.trim()&&F.trim()){A(!0);try{await (0,e.ingestAlert)({service:B.trim(),severity:D,message:F.trim(),source:H.trim()||"manual"}),(0,t.mutate)("/api/v1/alerts"),(0,t.mutate)("/api/v1/incidents"),y(!1),C(""),G(""),I("manual"),E("medium")}catch(a){console.error("Failed to ingest alert:",a)}finally{A(!1)}}}return(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Alerts"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Raw alerts ingested from monitoring systems — correlated into incidents"})]}),(0,b.jsxs)(k.Dialog,{open:x,onOpenChange:y,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(h.Button,{className:"gap-1.5",children:[(0,b.jsx)(p.Plus,{className:"h-4 w-4"}),"Ingest Alert"]})}),(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Ingest New Alert"}),(0,b.jsx)(k.DialogDescription,{children:"Manually send an alert to the ingestion service. It will be deduplicated and correlated to an incident automatically."})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4 py-2",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Service"}),(0,b.jsx)(i.Input,{placeholder:"e.g. frontend-api",value:B,onChange:a=>C(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Severity"}),(0,b.jsxs)(l.Select,{value:D,onValueChange:E,children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"critical",children:"Critical"}),(0,b.jsx)(l.SelectItem,{value:"high",children:"High"}),(0,b.jsx)(l.SelectItem,{value:"medium",children:"Medium"}),(0,b.jsx)(l.SelectItem,{value:"low",children:"Low"})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Message"}),(0,b.jsx)(m.Textarea,{placeholder:"e.g. HTTP 5xx error rate > 10%",value:F,onChange:a=>G(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Source"}),(0,b.jsx)(i.Input,{placeholder:"e.g. prometheus, grafana, manual",value:H,onChange:a=>I(a.target.value)})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),(0,b.jsxs)(h.Button,{onClick:O,disabled:z||!B.trim()||!F.trim(),className:"gap-1.5",children:[(0,b.jsx)(q.Send,{className:"h-4 w-4"}),"Ingest"]})]})]})]})]}),K&&(0,b.jsx)("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4 text-sm text-destructive",children:"Failed to load alerts. Make sure the API Gateway and Alert Ingestion service are running."}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:["critical","high","medium","low"].map(a=>(0,b.jsx)(g.Card,{className:`cursor-pointer border-border bg-card transition-colors hover:bg-secondary/50 ${v===a?"ring-2 ring-primary":""}`,onClick:()=>w(v===a?"all":a),children:(0,b.jsxs)(g.CardContent,{className:"flex items-center gap-3 py-3",children:[(0,b.jsx)(f.SeverityBadge,{severity:a}),(0,b.jsx)("span",{className:"text-xl font-semibold text-foreground",children:N[a]})]})},a))}),(0,b.jsxs)("div",{className:"relative w-full sm:w-72",children:[(0,b.jsx)(n.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Search alerts...",value:a,onChange:a=>u(a.target.value),className:"bg-secondary pl-9"})]}),L?(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)(o.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,b.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading alerts..."})]}):(0,b.jsx)("div",{className:"rounded-xl border border-border bg-card",children:(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{className:"border-border hover:bg-transparent",children:[(0,b.jsx)(j.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Alert"}),(0,b.jsx)(j.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Severity"}),(0,b.jsx)(j.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Service"}),(0,b.jsx)(j.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Source"}),(0,b.jsx)(j.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Incident"}),(0,b.jsx)(j.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Time"})]})}),(0,b.jsxs)(j.TableBody,{children:[M.map(a=>(0,b.jsxs)(j.TableRow,{className:"border-border transition-colors hover:bg-secondary/50",children:[(0,b.jsxs)(j.TableCell,{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:a.message}),(0,b.jsxs)("p",{className:"mt-0.5 font-mono text-xs text-muted-foreground",children:[a.id.slice(0,8),a.fingerprint&&(0,b.jsxs)("span",{className:"ml-2",children:["fp:",a.fingerprint]})]})]}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(f.SeverityBadge,{severity:a.severity})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)("span",{className:"rounded-md bg-secondary px-2 py-1 font-mono text-xs text-secondary-foreground",children:a.service})}),(0,b.jsx)(j.TableCell,{className:"text-sm text-muted-foreground",children:a.source}),(0,b.jsx)(j.TableCell,{children:a.incident_id?(0,b.jsxs)(s.default,{href:`/incidents/${a.incident_id}`,className:"flex items-center gap-1 text-xs text-primary hover:underline",children:[(0,b.jsx)(r,{className:"h-3 w-3"}),a.incident_id.slice(0,8)]}):(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"—"})}),(0,b.jsx)(j.TableCell,{className:"text-sm text-muted-foreground",children:function(a){let b=new Date,c=new Date(a),d=Math.floor((b.getTime()-c.getTime())/6e4);if(d<60)return`${d}m ago`;let e=Math.floor(d/60);return e<24?`${e}h ago`:`${Math.floor(e/24)}d ago`}(a.created_at)})]},a.id)),0===M.length&&(0,b.jsx)(j.TableRow,{children:(0,b.jsx)(j.TableCell,{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No alerts found."})})]})]})})]})}a.s(["default",()=>u],16251)}];

//# sourceMappingURL=Hackathon-os_incident-platform_services_web-ui_88fa1ad8._.js.map