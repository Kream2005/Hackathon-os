{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khalid/Desktop/Hackathon-os/incident-platform/services/web-ui/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,2SAAO,EAAC,IAAA,qQAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khalid/Desktop/Hackathon-os/incident-platform/services/web-ui/lib/api-client.ts"],"sourcesContent":["/**\r\n * API Client -- fetches from the FastAPI API Gateway.\r\n *\r\n * Browser-side: NEXT_PUBLIC_API_GATEWAY_URL (defaults to http://localhost:8080)\r\n * Server-side:  API_GATEWAY_URL            (defaults to http://api-gateway:8080 for Docker)\r\n *\r\n * No mock fallback -- all data comes from the real backend services.\r\n */\r\n\r\nimport type {\r\n  Incident,\r\n  Alert,\r\n  PaginatedAlerts,\r\n  IncidentSummaryStats,\r\n  OnCallSchedule,\r\n  CurrentOnCall,\r\n  EscalationRequest,\r\n  EscalationResponse,\r\n  EscalationLog,\r\n  OverrideRequest,\r\n  TeamOverview,\r\n  NotificationPayload,\r\n  NotificationLog,\r\n  ServiceHealth,\r\n} from \"@/lib/types\"\r\n\r\nconst GATEWAY_URL =\r\n  typeof window !== \"undefined\"\r\n    ? (process.env.NEXT_PUBLIC_API_GATEWAY_URL ?? \"http://localhost:8080\")\r\n    : (process.env.API_GATEWAY_URL ?? \"http://api-gateway:8080\")\r\n\r\nexport async function apiFetch<T>(\r\n  path: string,\r\n  options?: RequestInit,\r\n): Promise<T> {\r\n  const res = await fetch(`${GATEWAY_URL}${path}`, {\r\n    ...options,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      ...(options?.headers ?? {}),\r\n    },\r\n  })\r\n  if (!res.ok) {\r\n    const body = await res.text().catch(() => \"\")\r\n    throw new Error(`API error ${res.status}: ${res.statusText} — ${body}`)\r\n  }\r\n  return (await res.json()) as T\r\n}\r\n\r\n/**\r\n * SWR-compatible fetcher that calls the API Gateway.\r\n */\r\nexport const fetcher = (path: string): Promise<any> => apiFetch(path)\r\n\r\n/**\r\n * Fetcher that unwraps paginated responses from the incident-management API.\r\n * The /api/v1/incidents endpoint returns { incidents: [...], total, page, per_page }\r\n * but SWR consumers expect a flat Incident[] array.\r\n */\r\nexport const incidentsFetcher = async (path: string): Promise<any> => {\r\n  const data = await apiFetch<any>(path)\r\n  // If the response is a paginated wrapper, unwrap it\r\n  if (data && typeof data === \"object\" && Array.isArray(data.incidents)) {\r\n    return data.incidents\r\n  }\r\n  return data\r\n}\r\n\r\n/**\r\n * Fetcher that unwraps paginated alert responses.\r\n */\r\nexport const alertsFetcher = async (path: string): Promise<any> => {\r\n  const data = await apiFetch<PaginatedAlerts>(path)\r\n  if (data && typeof data === \"object\" && Array.isArray(data.alerts)) {\r\n    return data.alerts\r\n  }\r\n  return data\r\n}\r\n\r\n// ── Incident helpers ──────────────────────────────────────────────────────\r\n\r\nexport async function createIncident(body: {\r\n  title: string\r\n  service: string\r\n  severity: string\r\n  assigned_to?: string\r\n}): Promise<Incident> {\r\n  return apiFetch<Incident>(\"/api/v1/incidents\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(body),\r\n  })\r\n}\r\n\r\nexport async function updateIncident(\r\n  id: string,\r\n  body: { status?: string; notes?: string; assigned_to?: string },\r\n): Promise<Incident> {\r\n  return apiFetch<Incident>(`/api/v1/incidents/${id}`, {\r\n    method: \"PATCH\",\r\n    body: JSON.stringify(body),\r\n  })\r\n}\r\n\r\nexport async function getIncidentSummary(): Promise<IncidentSummaryStats> {\r\n  return apiFetch<IncidentSummaryStats>(\"/api/v1/incidents/stats/summary\")\r\n}\r\n\r\n// ── Alert helpers ─────────────────────────────────────────────────────────\r\n\r\nexport async function ingestAlert(body: {\r\n  service: string\r\n  severity: string\r\n  message: string\r\n  source?: string\r\n  labels?: Record<string, string>\r\n}): Promise<any> {\r\n  return apiFetch(\"/api/v1/alerts\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(body),\r\n  })\r\n}\r\n\r\n// ── On-call helpers ───────────────────────────────────────────────────────\r\n\r\nexport async function createSchedule(body: {\r\n  team: string\r\n  rotation_type: string\r\n  members: { name: string; email: string; role: string }[]\r\n}): Promise<OnCallSchedule> {\r\n  return apiFetch<OnCallSchedule>(\"/api/v1/schedules\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(body),\r\n  })\r\n}\r\n\r\nexport async function deleteSchedule(team: string): Promise<void> {\r\n  await apiFetch(`/api/v1/schedules/${encodeURIComponent(team)}`, {\r\n    method: \"DELETE\",\r\n  })\r\n}\r\n\r\nexport async function setOverride(body: OverrideRequest): Promise<any> {\r\n  return apiFetch(\"/api/v1/oncall/override\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(body),\r\n  })\r\n}\r\n\r\nexport async function removeOverride(team: string): Promise<void> {\r\n  await apiFetch(`/api/v1/oncall/override/${encodeURIComponent(team)}`, {\r\n    method: \"DELETE\",\r\n  })\r\n}\r\n\r\n// ── Escalation helpers ────────────────────────────────────────────────────\r\n\r\nexport async function triggerEscalation(\r\n  body: EscalationRequest,\r\n): Promise<EscalationResponse> {\r\n  return apiFetch<EscalationResponse>(\"/api/v1/escalate\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(body),\r\n  })\r\n}\r\n\r\nexport async function listEscalations(\r\n  team?: string,\r\n): Promise<EscalationLog[]> {\r\n  const qs = team ? `?team=${encodeURIComponent(team)}` : \"\"\r\n  return apiFetch<EscalationLog[]>(`/api/v1/escalations${qs}`)\r\n}\r\n\r\n// ── Notification helpers ──────────────────────────────────────────────────\r\n\r\nexport async function sendNotification(\r\n  body: NotificationPayload,\r\n): Promise<NotificationLog> {\r\n  return apiFetch<NotificationLog>(\"/api/v1/notify\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(body),\r\n  })\r\n}\r\n\r\n// ── Service health ────────────────────────────────────────────────────────\r\n\r\nexport async function getServicesHealth(): Promise<ServiceHealth> {\r\n  return apiFetch<ServiceHealth>(\"/api/services/health\")\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBM;AAFP,MAAM,cACJ,uCACK,8WAAO,CAAC,GAAG,CAAC,2BAA2B,IAAI,0BAC5C;AAEC,eAAe,SACpB,IAAY,EACZ,OAAqB;IAErB,MAAM,MAAM,MAAM,MAAM,GAAG,cAAc,MAAM,EAAE;QAC/C,GAAG,OAAO;QACV,SAAS;YACP,gBAAgB;YAChB,GAAI,SAAS,WAAW,CAAC,CAAC;QAC5B;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC1C,MAAM,IAAI,MAAM,CAAC,UAAU,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,IAAI,UAAU,CAAC,GAAG,EAAE,MAAM;IACxE;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAKO,MAAM,UAAU,CAAC,OAA+B,SAAS;AAOzD,MAAM,mBAAmB,OAAO;IACrC,MAAM,OAAO,MAAM,SAAc;IACjC,oDAAoD;IACpD,IAAI,QAAQ,OAAO,SAAS,YAAY,MAAM,OAAO,CAAC,KAAK,SAAS,GAAG;QACrE,OAAO,KAAK,SAAS;IACvB;IACA,OAAO;AACT;AAKO,MAAM,gBAAgB,OAAO;IAClC,MAAM,OAAO,MAAM,SAA0B;IAC7C,IAAI,QAAQ,OAAO,SAAS,YAAY,MAAM,OAAO,CAAC,KAAK,MAAM,GAAG;QAClE,OAAO,KAAK,MAAM;IACpB;IACA,OAAO;AACT;AAIO,eAAe,eAAe,IAKpC;IACC,OAAO,SAAmB,qBAAqB;QAC7C,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAEO,eAAe,eACpB,EAAU,EACV,IAA+D;IAE/D,OAAO,SAAmB,CAAC,kBAAkB,EAAE,IAAI,EAAE;QACnD,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAEO,eAAe;IACpB,OAAO,SAA+B;AACxC;AAIO,eAAe,YAAY,IAMjC;IACC,OAAO,SAAS,kBAAkB;QAChC,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAIO,eAAe,eAAe,IAIpC;IACC,OAAO,SAAyB,qBAAqB;QACnD,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAEO,eAAe,eAAe,IAAY;IAC/C,MAAM,SAAS,CAAC,kBAAkB,EAAE,mBAAmB,OAAO,EAAE;QAC9D,QAAQ;IACV;AACF;AAEO,eAAe,YAAY,IAAqB;IACrD,OAAO,SAAS,2BAA2B;QACzC,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAEO,eAAe,eAAe,IAAY;IAC/C,MAAM,SAAS,CAAC,wBAAwB,EAAE,mBAAmB,OAAO,EAAE;QACpE,QAAQ;IACV;AACF;AAIO,eAAe,kBACpB,IAAuB;IAEvB,OAAO,SAA6B,oBAAoB;QACtD,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAEO,eAAe,gBACpB,IAAa;IAEb,MAAM,KAAK,OAAO,CAAC,MAAM,EAAE,mBAAmB,OAAO,GAAG;IACxD,OAAO,SAA0B,CAAC,mBAAmB,EAAE,IAAI;AAC7D;AAIO,eAAe,iBACpB,IAAyB;IAEzB,OAAO,SAA0B,kBAAkB;QACjD,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;AACF;AAIO,eAAe;IACpB,OAAO,SAAwB;AACjC"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khalid/Desktop/Hackathon-os/incident-platform/services/web-ui/components/app-sidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { useTheme } from \"next-themes\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { getServicesHealth } from \"@/lib/api-client\"\r\nimport type { ServiceHealth } from \"@/lib/types\"\r\nimport {\r\n  AlertTriangle,\r\n  LayoutDashboard,\r\n  Calendar,\r\n  BarChart3,\r\n  Bell,\r\n  Activity,\r\n  Sun,\r\n  Moon,\r\n  Zap,\r\n} from \"lucide-react\"\r\n\r\nconst navItems = [\r\n  { href: \"/\", label: \"Dashboard\", icon: LayoutDashboard },\r\n  { href: \"/incidents\", label: \"Incidents\", icon: AlertTriangle },\r\n  { href: \"/alerts\", label: \"Alerts\", icon: Zap },\r\n  { href: \"/oncall\", label: \"On-Call\", icon: Calendar },\r\n  { href: \"/metrics-page\", label: \"SRE Metrics\", icon: BarChart3 },\r\n  { href: \"/notifications\", label: \"Notifications\", icon: Bell },\r\n]\r\n\r\nconst SERVICE_MAP: Record<string, { name: string; port: number }> = {\r\n  \"alert-ingestion\": { name: \"Alert Ingestion\", port: 8001 },\r\n  \"incident-management\": { name: \"Incident Mgmt\", port: 8002 },\r\n  \"oncall-service\": { name: \"On-Call Service\", port: 8003 },\r\n  \"notification-service\": { name: \"Notification\", port: 8004 },\r\n}\r\n\r\nexport function AppSidebar() {\r\n  const pathname = usePathname()\r\n  const { theme, setTheme } = useTheme()\r\n  const [health, setHealth] = useState<ServiceHealth | null>(null)\r\n\r\n  useEffect(() => {\r\n    let mounted = true\r\n    async function poll() {\r\n      try {\r\n        const h = await getServicesHealth()\r\n        if (mounted) setHealth(h)\r\n      } catch {\r\n        // ignore – show unknown state\r\n      }\r\n    }\r\n    poll()\r\n    const id = setInterval(poll, 30000)\r\n    return () => { mounted = false; clearInterval(id) }\r\n  }, [])\r\n\r\n  return (\r\n    <aside className=\"flex h-screen w-64 flex-col border-r border-border bg-card\">\r\n      {/* Logo */}\r\n      <div className=\"flex items-center gap-3 border-b border-border px-6 py-5\">\r\n        <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary\">\r\n          <Activity className=\"h-4 w-4 text-primary-foreground\" />\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-sm font-semibold text-foreground\">Incident Platform</h1>\r\n          <p className=\"text-xs text-muted-foreground\">On-Call & SRE</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 px-3 py-4\">\r\n        <ul className=\"flex flex-col gap-1\">\r\n          {navItems.map((item) => {\r\n            const isActive =\r\n              pathname === item.href ||\r\n              (item.href !== \"/\" && pathname.startsWith(item.href))\r\n            return (\r\n              <li key={item.href}>\r\n                <Link\r\n                  href={item.href}\r\n                  className={cn(\r\n                    \"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors\",\r\n                    isActive\r\n                      ? \"bg-primary/10 text-primary\"\r\n                      : \"text-muted-foreground hover:bg-secondary hover:text-foreground\"\r\n                  )}\r\n                >\r\n                  <item.icon className=\"h-4 w-4\" />\r\n                  {item.label}\r\n                </Link>\r\n              </li>\r\n            )\r\n          })}\r\n        </ul>\r\n      </nav>\r\n\r\n      {/* Theme Toggle */}\r\n      <div className=\"border-t border-border px-4 py-3\">\r\n        <button\r\n          onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\r\n          className=\"flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground\"\r\n        >\r\n          <Sun className=\"h-4 w-4 rotate-0 scale-100 transition-transform dark:-rotate-90 dark:scale-0\" />\r\n          <Moon className=\"absolute h-4 w-4 rotate-90 scale-0 transition-transform dark:rotate-0 dark:scale-100\" />\r\n          <span className=\"ml-4\">Toggle theme</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Service Status */}\r\n      <div className=\"border-t border-border px-4 py-4\">\r\n        <p className=\"mb-2 text-xs font-medium uppercase tracking-wider text-muted-foreground\">\r\n          Services\r\n        </p>\r\n        <div className=\"flex flex-col gap-1.5\">\r\n          {Object.entries(SERVICE_MAP).map(([key, svc]) => {\r\n            const status = health?.[key]?.status\r\n            return (\r\n              <div key={key} className=\"flex items-center gap-2 text-xs\">\r\n                <span\r\n                  className={cn(\r\n                    \"h-1.5 w-1.5 rounded-full\",\r\n                    status === \"up\"\r\n                      ? \"bg-green-500\"\r\n                      : status === \"down\"\r\n                        ? \"bg-destructive\"\r\n                        : \"bg-muted-foreground/40\",\r\n                  )}\r\n                />\r\n                <span className=\"text-muted-foreground\">{svc.name}</span>\r\n                <span className=\"ml-auto font-mono text-muted-foreground\">:{svc.port}</span>\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khalid/Desktop/Hackathon-os/incident-platform/services/web-ui/components/theme-provider.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  ThemeProvider as NextThemesProvider,\r\n  type ThemeProviderProps,\r\n} from 'next-themes'\r\n\r\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\r\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAQO,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,OAA2B;IACtE,qBAAO,gYAAC,iVAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;KAFgB"}}]
}