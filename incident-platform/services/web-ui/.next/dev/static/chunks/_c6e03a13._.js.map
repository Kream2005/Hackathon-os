{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/lib/api-client.ts"],"sourcesContent":["/**\n * API Client -- fetches from the FastAPI API Gateway.\n *\n * Browser-side: NEXT_PUBLIC_API_GATEWAY_URL (defaults to http://localhost:8080)\n * Server-side:  API_GATEWAY_URL            (defaults to http://api-gateway:8080 for Docker)\n *\n * No mock fallback -- all data comes from the real backend services.\n */\n\nconst GATEWAY_URL =\n  typeof window !== \"undefined\"\n    ? (process.env.NEXT_PUBLIC_API_GATEWAY_URL ?? \"http://localhost:8080\")\n    : (process.env.API_GATEWAY_URL ?? \"http://api-gateway:8080\")\n\nexport async function apiFetch<T>(\n  path: string,\n  options?: RequestInit,\n): Promise<T> {\n  const res = await fetch(`${GATEWAY_URL}${path}`, {\n    ...options,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(options?.headers ?? {}),\n    },\n  })\n  if (!res.ok) {\n    throw new Error(`API error ${res.status}: ${res.statusText}`)\n  }\n  return (await res.json()) as T\n}\n\n/**\n * SWR-compatible fetcher that calls the API Gateway.\n */\nexport const fetcher = (path: string): Promise<any> => apiFetch(path)\n\n/**\n * Fetcher that unwraps paginated responses from the incident-management API.\n * The /api/v1/incidents endpoint returns { incidents: [...], total, page, per_page }\n * but SWR consumers expect a flat Incident[] array.\n */\nexport const incidentsFetcher = async (path: string): Promise<any> => {\n  const data = await apiFetch<any>(path)\n  // If the response is a paginated wrapper, unwrap it\n  if (data && typeof data === \"object\" && Array.isArray(data.incidents)) {\n    return data.incidents\n  }\n  return data\n}\n"],"names":[],"mappings":";;;;;;;;AAWO;AAXP;;;;;;;CAOC,GAED,MAAM,cACJ,uCACK,0SAAO,CAAC,GAAG,CAAC,2BAA2B,IAAI,0BAC5C;AAEC,eAAe,SACpB,IAAY,EACZ,OAAqB;IAErB,MAAM,MAAM,MAAM,MAAM,GAAG,cAAc,MAAM,EAAE;QAC/C,GAAG,OAAO;QACV,SAAS;YACP,gBAAgB;YAChB,GAAI,SAAS,WAAW,CAAC,CAAC;QAC5B;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,CAAC,UAAU,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,IAAI,UAAU,EAAE;IAC9D;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAKO,MAAM,UAAU,CAAC,OAA+B,SAAS;AAOzD,MAAM,mBAAmB,OAAO;IACrC,MAAM,OAAO,MAAM,SAAc;IACjC,oDAAoD;IACpD,IAAI,QAAQ,OAAO,SAAS,YAAY,MAAM,OAAO,CAAC,KAAK,SAAS,GAAG;QACrE,OAAO,KAAK,SAAS;IACvB;IACA,OAAO;AACT"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/components/metric-card.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\nimport type { LucideIcon } from \"lucide-react\"\n\ninterface MetricCardProps {\n  title: string\n  value: string | number\n  subtitle?: string\n  icon: LucideIcon\n  trend?: \"up\" | \"down\" | \"neutral\"\n  trendValue?: string\n  variant?: \"default\" | \"critical\" | \"warning\" | \"success\"\n}\n\nconst variantStyles = {\n  default: \"border-border\",\n  critical: \"border-red-500/20\",\n  warning: \"border-amber-500/20\",\n  success: \"border-indigo-500/20\",\n}\n\nconst iconVariantStyles = {\n  default: \"bg-secondary text-muted-foreground\",\n  critical: \"bg-red-500/10 text-red-500 dark:text-red-400\",\n  warning: \"bg-amber-500/10 text-amber-500 dark:text-amber-400\",\n  success: \"bg-indigo-500/10 text-indigo-500 dark:text-indigo-400\",\n}\n\nexport function MetricCard({\n  title,\n  value,\n  subtitle,\n  icon: Icon,\n  trend,\n  trendValue,\n  variant = \"default\",\n}: MetricCardProps) {\n  return (\n    <div\n      className={cn(\n        \"rounded-xl border bg-card p-5\",\n        variantStyles[variant]\n      )}\n    >\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex flex-col gap-1\">\n          <p className=\"text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n            {title}\n          </p>\n          <p className=\"text-2xl font-semibold text-foreground\">{value}</p>\n          {subtitle && (\n            <p className=\"text-xs text-muted-foreground\">{subtitle}</p>\n          )}\n        </div>\n        <div className={cn(\"rounded-lg p-2.5\", iconVariantStyles[variant])}>\n          <Icon className=\"h-4 w-4\" />\n        </div>\n      </div>\n      {trend && trendValue && (\n        <div className=\"mt-3 flex items-center gap-1 text-xs\">\n          <span\n            className={cn(\n              trend === \"down\" ? \"text-indigo-500 dark:text-indigo-400\" : trend === \"up\" ? \"text-red-500 dark:text-red-400\" : \"text-muted-foreground\"\n            )}\n          >\n            {trend === \"up\" ? \"+\" : trend === \"down\" ? \"-\" : \"\"}\n            {trendValue}\n          </span>\n          <span className=\"text-muted-foreground\">vs last period</span>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAaA,MAAM,gBAAgB;IACpB,SAAS;IACT,UAAU;IACV,SAAS;IACT,SAAS;AACX;AAEA,MAAM,oBAAoB;IACxB,SAAS;IACT,UAAU;IACV,SAAS;IACT,SAAS;AACX;AAEO,SAAS,WAAW,EACzB,KAAK,EACL,KAAK,EACL,QAAQ,EACR,MAAM,IAAI,EACV,KAAK,EACL,UAAU,EACV,UAAU,SAAS,EACH;IAChB,qBACE,4TAAC;QACC,WAAW,IAAA,qHAAE,EACX,iCACA,aAAa,CAAC,QAAQ;;0BAGxB,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAE,WAAU;0CACV;;;;;;0CAEH,4TAAC;gCAAE,WAAU;0CAA0C;;;;;;4BACtD,0BACC,4TAAC;gCAAE,WAAU;0CAAiC;;;;;;;;;;;;kCAGlD,4TAAC;wBAAI,WAAW,IAAA,qHAAE,EAAC,oBAAoB,iBAAiB,CAAC,QAAQ;kCAC/D,cAAA,4TAAC;4BAAK,WAAU;;;;;;;;;;;;;;;;;YAGnB,SAAS,4BACR,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;wBACC,WAAW,IAAA,qHAAE,EACX,UAAU,SAAS,yCAAyC,UAAU,OAAO,mCAAmC;;4BAGjH,UAAU,OAAO,MAAM,UAAU,SAAS,MAAM;4BAChD;;;;;;;kCAEH,4TAAC;wBAAK,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;AAKlD;KA7CgB"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/components/severity-badge.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\nimport type { Severity } from \"@/lib/types\"\n\nconst severityConfig: Record<Severity, { bg: string; text: string; dot: string }> = {\n  critical: { bg: \"bg-red-500/10\", text: \"text-red-600 dark:text-red-400\", dot: \"bg-red-500 dark:bg-red-400\" },\n  high: { bg: \"bg-orange-500/10\", text: \"text-orange-600 dark:text-orange-400\", dot: \"bg-orange-500 dark:bg-orange-400\" },\n  medium: { bg: \"bg-amber-500/10\", text: \"text-amber-600 dark:text-amber-400\", dot: \"bg-amber-500 dark:bg-amber-400\" },\n  low: { bg: \"bg-blue-500/10\", text: \"text-blue-600 dark:text-blue-400\", dot: \"bg-blue-500 dark:bg-blue-400\" },\n}\n\nexport function SeverityBadge({ severity }: { severity: Severity }) {\n  const config = severityConfig[severity]\n  return (\n    <span\n      className={cn(\n        \"inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium\",\n        config.bg,\n        config.text\n      )}\n    >\n      <span className={cn(\"h-1.5 w-1.5 rounded-full\", config.dot)} />\n      {severity.charAt(0).toUpperCase() + severity.slice(1)}\n    </span>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAGA,MAAM,iBAA8E;IAClF,UAAU;QAAE,IAAI;QAAiB,MAAM;QAAkC,KAAK;IAA6B;IAC3G,MAAM;QAAE,IAAI;QAAoB,MAAM;QAAwC,KAAK;IAAmC;IACtH,QAAQ;QAAE,IAAI;QAAmB,MAAM;QAAsC,KAAK;IAAiC;IACnH,KAAK;QAAE,IAAI;QAAkB,MAAM;QAAoC,KAAK;IAA+B;AAC7G;AAEO,SAAS,cAAc,EAAE,QAAQ,EAA0B;IAChE,MAAM,SAAS,cAAc,CAAC,SAAS;IACvC,qBACE,4TAAC;QACC,WAAW,IAAA,qHAAE,EACX,mFACA,OAAO,EAAE,EACT,OAAO,IAAI;;0BAGb,4TAAC;gBAAK,WAAW,IAAA,qHAAE,EAAC,4BAA4B,OAAO,GAAG;;;;;;YACzD,SAAS,MAAM,CAAC,GAAG,WAAW,KAAK,SAAS,KAAK,CAAC;;;;;;;AAGzD;KAdgB"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/components/status-badge.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\nimport type { IncidentStatus } from \"@/lib/types\"\n\nconst statusConfig: Record<IncidentStatus, { bg: string; text: string; label: string }> = {\n  open: { bg: \"bg-red-500/10\", text: \"text-red-600 dark:text-red-400\", label: \"Open\" },\n  acknowledged: { bg: \"bg-amber-500/10\", text: \"text-amber-600 dark:text-amber-400\", label: \"Acknowledged\" },\n  in_progress: { bg: \"bg-blue-500/10\", text: \"text-blue-600 dark:text-blue-400\", label: \"In Progress\" },\n  resolved: { bg: \"bg-indigo-500/10\", text: \"text-indigo-600 dark:text-indigo-400\", label: \"Resolved\" },\n}\n\nexport function StatusBadge({ status }: { status: IncidentStatus }) {\n  const config = statusConfig[status]\n  return (\n    <span\n      className={cn(\n        \"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium\",\n        config.bg,\n        config.text\n      )}\n    >\n      {config.label}\n    </span>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAGA,MAAM,eAAoF;IACxF,MAAM;QAAE,IAAI;QAAiB,MAAM;QAAkC,OAAO;IAAO;IACnF,cAAc;QAAE,IAAI;QAAmB,MAAM;QAAsC,OAAO;IAAe;IACzG,aAAa;QAAE,IAAI;QAAkB,MAAM;QAAoC,OAAO;IAAc;IACpG,UAAU;QAAE,IAAI;QAAoB,MAAM;QAAwC,OAAO;IAAW;AACtG;AAEO,SAAS,YAAY,EAAE,MAAM,EAA8B;IAChE,MAAM,SAAS,YAAY,CAAC,OAAO;IACnC,qBACE,4TAAC;QACC,WAAW,IAAA,qHAAE,EACX,qEACA,OAAO,EAAE,EACT,OAAO,IAAI;kBAGZ,OAAO,KAAK;;;;;;AAGnB;KAbgB"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/components/ui/table.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn('w-full caption-bottom text-sm', className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = 'Table'\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn('[&_tr]:border-b', className)} {...props} />\n))\nTableHeader.displayName = 'TableHeader'\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn('[&_tr:last-child]:border-0', className)}\n    {...props}\n  />\n))\nTableBody.displayName = 'TableBody'\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      'border-t bg-muted/50 font-medium [&>tr]:last:border-b-0',\n      className,\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = 'TableFooter'\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      'border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted',\n      className,\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = 'TableRow'\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      'h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0',\n      className,\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = 'TableHead'\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn('p-4 align-middle [&:has([role=checkbox])]:pr-0', className)}\n    {...props}\n  />\n))\nTableCell.displayName = 'TableCell'\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn('mt-4 text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nTableCaption.displayName = 'TableCaption'\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,0SAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QAAI,WAAU;kBACb,cAAA,4TAAC;YACC,KAAK;YACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,0SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QAAM,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,0SAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,0SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,0SAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,0SAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,oGACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,0SAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,0SAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4TAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 430, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/components/incidents-table.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport type { Incident } from \"@/lib/types\"\nimport { SeverityBadge } from \"@/components/severity-badge\"\nimport { StatusBadge } from \"@/components/status-badge\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"\n\nfunction timeAgo(dateStr: string) {\n  const now = new Date()\n  const date = new Date(dateStr)\n  const diffMs = now.getTime() - date.getTime()\n  const diffMin = Math.floor(diffMs / 60000)\n  if (diffMin < 60) return `${diffMin}m ago`\n  const diffHr = Math.floor(diffMin / 60)\n  if (diffHr < 24) return `${diffHr}h ago`\n  const diffDay = Math.floor(diffHr / 24)\n  return `${diffDay}d ago`\n}\n\nexport function IncidentsTable({ incidents }: { incidents: Incident[] }) {\n  return (\n    <div className=\"rounded-xl border border-border bg-card\">\n      <Table>\n        <TableHeader>\n          <TableRow className=\"border-border hover:bg-transparent\">\n            <TableHead className=\"text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n              Incident\n            </TableHead>\n            <TableHead className=\"text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n              Severity\n            </TableHead>\n            <TableHead className=\"text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n              Status\n            </TableHead>\n            <TableHead className=\"text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n              Service\n            </TableHead>\n            <TableHead className=\"text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n              Assigned\n            </TableHead>\n            <TableHead className=\"text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n              Created\n            </TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {incidents.map((incident) => (\n            <TableRow\n              key={incident.id}\n              className=\"border-border transition-colors hover:bg-secondary/50\"\n            >\n              <TableCell>\n                <Link\n                  href={`/incidents/${incident.id}`}\n                  className=\"font-medium text-foreground hover:text-primary\"\n                >\n                  {incident.title}\n                </Link>\n                <p className=\"mt-0.5 font-mono text-xs text-muted-foreground\">\n                  {incident.id}\n                </p>\n              </TableCell>\n              <TableCell>\n                <SeverityBadge severity={incident.severity} />\n              </TableCell>\n              <TableCell>\n                <StatusBadge status={incident.status} />\n              </TableCell>\n              <TableCell>\n                <span className=\"rounded-md bg-secondary px-2 py-1 font-mono text-xs text-secondary-foreground\">\n                  {incident.service}\n                </span>\n              </TableCell>\n              <TableCell className=\"text-sm text-muted-foreground\">\n                {incident.assigned_to || \"Unassigned\"}\n              </TableCell>\n              <TableCell className=\"text-sm text-muted-foreground\">\n                {timeAgo(incident.created_at)}\n              </TableCell>\n            </TableRow>\n          ))}\n          {incidents.length === 0 && (\n            <TableRow>\n              <TableCell colSpan={6} className=\"py-12 text-center text-muted-foreground\">\n                No incidents found.\n              </TableCell>\n            </TableRow>\n          )}\n        </TableBody>\n      </Table>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAeA,SAAS,QAAQ,OAAe;IAC9B,MAAM,MAAM,IAAI;IAChB,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;IAC3C,MAAM,UAAU,KAAK,KAAK,CAAC,SAAS;IACpC,IAAI,UAAU,IAAI,OAAO,GAAG,QAAQ,KAAK,CAAC;IAC1C,MAAM,SAAS,KAAK,KAAK,CAAC,UAAU;IACpC,IAAI,SAAS,IAAI,OAAO,GAAG,OAAO,KAAK,CAAC;IACxC,MAAM,UAAU,KAAK,KAAK,CAAC,SAAS;IACpC,OAAO,GAAG,QAAQ,KAAK,CAAC;AAC1B;AAEO,SAAS,eAAe,EAAE,SAAS,EAA6B;IACrE,qBACE,4TAAC;QAAI,WAAU;kBACb,cAAA,4TAAC,sIAAK;;8BACJ,4TAAC,4IAAW;8BACV,cAAA,4TAAC,yIAAQ;wBAAC,WAAU;;0CAClB,4TAAC,0IAAS;gCAAC,WAAU;0CAAqE;;;;;;0CAG1F,4TAAC,0IAAS;gCAAC,WAAU;0CAAqE;;;;;;0CAG1F,4TAAC,0IAAS;gCAAC,WAAU;0CAAqE;;;;;;0CAG1F,4TAAC,0IAAS;gCAAC,WAAU;0CAAqE;;;;;;0CAG1F,4TAAC,0IAAS;gCAAC,WAAU;0CAAqE;;;;;;0CAG1F,4TAAC,0IAAS;gCAAC,WAAU;0CAAqE;;;;;;;;;;;;;;;;;8BAK9F,4TAAC,0IAAS;;wBACP,UAAU,GAAG,CAAC,CAAC,yBACd,4TAAC,yIAAQ;gCAEP,WAAU;;kDAEV,4TAAC,0IAAS;;0DACR,4TAAC,ySAAI;gDACH,MAAM,CAAC,WAAW,EAAE,SAAS,EAAE,EAAE;gDACjC,WAAU;0DAET,SAAS,KAAK;;;;;;0DAEjB,4TAAC;gDAAE,WAAU;0DACV,SAAS,EAAE;;;;;;;;;;;;kDAGhB,4TAAC,0IAAS;kDACR,cAAA,4TAAC,oJAAa;4CAAC,UAAU,SAAS,QAAQ;;;;;;;;;;;kDAE5C,4TAAC,0IAAS;kDACR,cAAA,4TAAC,gJAAW;4CAAC,QAAQ,SAAS,MAAM;;;;;;;;;;;kDAEtC,4TAAC,0IAAS;kDACR,cAAA,4TAAC;4CAAK,WAAU;sDACb,SAAS,OAAO;;;;;;;;;;;kDAGrB,4TAAC,0IAAS;wCAAC,WAAU;kDAClB,SAAS,WAAW,IAAI;;;;;;kDAE3B,4TAAC,0IAAS;wCAAC,WAAU;kDAClB,QAAQ,SAAS,UAAU;;;;;;;+BA7BzB,SAAS,EAAE;;;;;wBAiCnB,UAAU,MAAM,KAAK,mBACpB,4TAAC,yIAAQ;sCACP,cAAA,4TAAC,0IAAS;gCAAC,SAAS;gCAAG,WAAU;0CAA0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzF;KAzEgB"}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAUF,MAAM,uBAAS,0SAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAC9B,qBACE,4TAAC;QACC,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["file:///home/amine/Documents/python_things/hackathon/incident-platform/services/web-ui/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useMemo } from \"react\"\nimport useSWR from \"swr\"\nimport { incidentsFetcher } from \"@/lib/api-client\"\nimport type { Incident } from \"@/lib/types\"\nimport { MetricCard } from \"@/components/metric-card\"\nimport { IncidentsTable } from \"@/components/incidents-table\"\nimport { AlertTriangle, Clock, CheckCircle2, Timer, Loader2 } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\nfunction formatSeconds(seconds: number): string {\n  if (seconds < 60) return `${Math.round(seconds)}s`\n  if (seconds < 3600) return `${Math.round(seconds / 60)}m`\n  return `${(seconds / 3600).toFixed(1)}h`\n}\n\nexport default function DashboardPage() {\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\")\n\n  const { data: incidents, error, isLoading } = useSWR<Incident[]>(\n    \"/api/v1/incidents\",\n    incidentsFetcher,\n    { refreshInterval: 10000 },\n  )\n\n  const openCount = incidents?.filter((i) => i.status === \"open\").length ?? 0\n  const ackedCount = incidents?.filter((i) => i.status === \"acknowledged\").length ?? 0\n  const inProgressCount = incidents?.filter((i) => i.status === \"in_progress\").length ?? 0\n  const resolvedCount = incidents?.filter((i) => i.status === \"resolved\").length ?? 0\n\n  const avgMtta = useMemo(() => {\n    if (!incidents) return 0\n    const withMtta = incidents.filter((i) => i.mtta_seconds !== null)\n    if (withMtta.length === 0) return 0\n    return withMtta.reduce((acc, i) => acc + (i.mtta_seconds || 0), 0) / withMtta.length\n  }, [incidents])\n\n  const avgMttr = useMemo(() => {\n    if (!incidents) return 0\n    const withMttr = incidents.filter((i) => i.mttr_seconds !== null)\n    if (withMttr.length === 0) return 0\n    return withMttr.reduce((acc, i) => acc + (i.mttr_seconds || 0), 0) / withMttr.length\n  }, [incidents])\n\n  const filteredIncidents = useMemo(() => {\n    if (!incidents) return []\n    if (statusFilter === \"all\") return incidents\n    return incidents.filter((i) => i.status === statusFilter)\n  }, [incidents, statusFilter])\n\n  const filters = [\n    { value: \"all\", label: \"All\", count: incidents?.length ?? 0 },\n    { value: \"open\", label: \"Open\", count: openCount },\n    { value: \"acknowledged\", label: \"Acknowledged\", count: ackedCount },\n    { value: \"in_progress\", label: \"In Progress\", count: inProgressCount },\n    { value: \"resolved\", label: \"Resolved\", count: resolvedCount },\n  ]\n\n  return (\n    <div className=\"flex flex-col gap-6 p-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-semibold text-foreground\">Dashboard</h1>\n          <p className=\"mt-1 text-sm text-muted-foreground\">\n            Real-time incident overview and SRE metrics\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"flex items-center gap-1.5 rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary\">\n            <span className=\"h-1.5 w-1.5 animate-pulse rounded-full bg-primary\" />\n            Live\n          </span>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"rounded-lg border border-destructive/50 bg-destructive/10 p-4 text-sm text-destructive\">\n          Failed to load incidents from the API Gateway. Make sure the backend services are running.\n        </div>\n      )}\n\n      {isLoading && (\n        <div className=\"flex items-center justify-center py-12\">\n          <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n          <span className=\"ml-2 text-sm text-muted-foreground\">Loading incidents...</span>\n        </div>\n      )}\n\n      {!isLoading && (\n        <>\n          {/* Metric Cards */}\n          <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n            <MetricCard\n              title=\"Open Incidents\"\n              value={openCount}\n              subtitle={`${ackedCount} acknowledged`}\n              icon={AlertTriangle}\n              variant={openCount > 2 ? \"critical\" : \"default\"}\n            />\n            <MetricCard\n              title=\"In Progress\"\n              value={inProgressCount}\n              subtitle=\"Being investigated\"\n              icon={Clock}\n              variant=\"warning\"\n            />\n            <MetricCard\n              title=\"Avg MTTA\"\n              value={formatSeconds(avgMtta)}\n              subtitle=\"Mean Time to Acknowledge\"\n              icon={Timer}\n              variant=\"default\"\n            />\n            <MetricCard\n              title=\"Resolved\"\n              value={resolvedCount}\n              subtitle={`Avg MTTR: ${formatSeconds(avgMttr)}`}\n              icon={CheckCircle2}\n              variant=\"success\"\n            />\n          </div>\n\n          {/* Filter Tabs + Table */}\n          <div className=\"flex flex-col gap-4\">\n            <div className=\"flex items-center gap-2\">\n              {filters.map((f) => (\n                <Button\n                  key={f.value}\n                  variant={statusFilter === f.value ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  onClick={() => setStatusFilter(f.value)}\n                  className=\"gap-1.5\"\n                >\n                  {f.label}\n                  <span className=\"rounded-full bg-background/20 px-1.5 py-0.5 text-[10px] font-mono\">\n                    {f.count}\n                  </span>\n                </Button>\n              ))}\n            </div>\n            <IncidentsTable incidents={filteredIncidents} />\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AATA;;;;;;;;AAWA,SAAS,cAAc,OAAe;IACpC,IAAI,UAAU,IAAI,OAAO,GAAG,KAAK,KAAK,CAAC,SAAS,CAAC,CAAC;IAClD,IAAI,UAAU,MAAM,OAAO,GAAG,KAAK,KAAK,CAAC,UAAU,IAAI,CAAC,CAAC;IACzD,OAAO,GAAG,CAAC,UAAU,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;AAC1C;AAEe,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wSAAQ,EAAS;IAEzD,MAAM,EAAE,MAAM,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,kPAAM,EAClD,qBACA,2IAAgB,EAChB;QAAE,iBAAiB;IAAM;IAG3B,MAAM,YAAY,WAAW,OAAO,CAAC,IAAM,EAAE,MAAM,KAAK,QAAQ,UAAU;IAC1E,MAAM,aAAa,WAAW,OAAO,CAAC,IAAM,EAAE,MAAM,KAAK,gBAAgB,UAAU;IACnF,MAAM,kBAAkB,WAAW,OAAO,CAAC,IAAM,EAAE,MAAM,KAAK,eAAe,UAAU;IACvF,MAAM,gBAAgB,WAAW,OAAO,CAAC,IAAM,EAAE,MAAM,KAAK,YAAY,UAAU;IAElF,MAAM,UAAU,IAAA,uSAAO;0CAAC;YACtB,IAAI,CAAC,WAAW,OAAO;YACvB,MAAM,WAAW,UAAU,MAAM;2DAAC,CAAC,IAAM,EAAE,YAAY,KAAK;;YAC5D,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;YAClC,OAAO,SAAS,MAAM;kDAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,YAAY,IAAI,CAAC;iDAAG,KAAK,SAAS,MAAM;QACtF;yCAAG;QAAC;KAAU;IAEd,MAAM,UAAU,IAAA,uSAAO;0CAAC;YACtB,IAAI,CAAC,WAAW,OAAO;YACvB,MAAM,WAAW,UAAU,MAAM;2DAAC,CAAC,IAAM,EAAE,YAAY,KAAK;;YAC5D,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;YAClC,OAAO,SAAS,MAAM;kDAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,YAAY,IAAI,CAAC;iDAAG,KAAK,SAAS,MAAM;QACtF;yCAAG;QAAC;KAAU;IAEd,MAAM,oBAAoB,IAAA,uSAAO;oDAAC;YAChC,IAAI,CAAC,WAAW,OAAO,EAAE;YACzB,IAAI,iBAAiB,OAAO,OAAO;YACnC,OAAO,UAAU,MAAM;4DAAC,CAAC,IAAM,EAAE,MAAM,KAAK;;QAC9C;mDAAG;QAAC;QAAW;KAAa;IAE5B,MAAM,UAAU;QACd;YAAE,OAAO;YAAO,OAAO;YAAO,OAAO,WAAW,UAAU;QAAE;QAC5D;YAAE,OAAO;YAAQ,OAAO;YAAQ,OAAO;QAAU;QACjD;YAAE,OAAO;YAAgB,OAAO;YAAgB,OAAO;QAAW;QAClE;YAAE,OAAO;YAAe,OAAO;YAAe,OAAO;QAAgB;QACrE;YAAE,OAAO;YAAY,OAAO;YAAY,OAAO;QAAc;KAC9D;IAED,qBACE,4TAAC;QAAI,WAAU;;0BAEb,4TAAC;gBAAI,WAAU;;kCACb,4TAAC;;0CACC,4TAAC;gCAAG,WAAU;0CAAyC;;;;;;0CACvD,4TAAC;gCAAE,WAAU;0CAAqC;;;;;;;;;;;;kCAIpD,4TAAC;wBAAI,WAAU;kCACb,cAAA,4TAAC;4BAAK,WAAU;;8CACd,4TAAC;oCAAK,WAAU;;;;;;gCAAsD;;;;;;;;;;;;;;;;;;YAM3E,uBACC,4TAAC;gBAAI,WAAU;0BAAyF;;;;;;YAKzG,2BACC,4TAAC;gBAAI,WAAU;;kCACb,4TAAC,mTAAO;wBAAC,WAAU;;;;;;kCACnB,4TAAC;wBAAK,WAAU;kCAAqC;;;;;;;;;;;;YAIxD,CAAC,2BACA;;kCAEE,4TAAC;wBAAI,WAAU;;0CACb,4TAAC,8IAAU;gCACT,OAAM;gCACN,OAAO;gCACP,UAAU,GAAG,WAAW,aAAa,CAAC;gCACtC,MAAM,gUAAa;gCACnB,SAAS,YAAY,IAAI,aAAa;;;;;;0CAExC,4TAAC,8IAAU;gCACT,OAAM;gCACN,OAAO;gCACP,UAAS;gCACT,MAAM,oSAAK;gCACX,SAAQ;;;;;;0CAEV,4TAAC,8IAAU;gCACT,OAAM;gCACN,OAAO,cAAc;gCACrB,UAAS;gCACT,MAAM,oSAAK;gCACX,SAAQ;;;;;;0CAEV,4TAAC,8IAAU;gCACT,OAAM;gCACN,OAAO;gCACP,UAAU,CAAC,UAAU,EAAE,cAAc,UAAU;gCAC/C,MAAM,4TAAY;gCAClB,SAAQ;;;;;;;;;;;;kCAKZ,4TAAC;wBAAI,WAAU;;0CACb,4TAAC;gCAAI,WAAU;0CACZ,QAAQ,GAAG,CAAC,CAAC,kBACZ,4TAAC,wIAAM;wCAEL,SAAS,iBAAiB,EAAE,KAAK,GAAG,YAAY;wCAChD,MAAK;wCACL,SAAS,IAAM,gBAAgB,EAAE,KAAK;wCACtC,WAAU;;4CAET,EAAE,KAAK;0DACR,4TAAC;gDAAK,WAAU;0DACb,EAAE,KAAK;;;;;;;uCARL,EAAE,KAAK;;;;;;;;;;0CAalB,4TAAC,sJAAc;gCAAC,WAAW;;;;;;;;;;;;;;;;;;;;AAMvC;GAnIwB;;QAGwB,kPAAM;;;KAH9B"}}]
}