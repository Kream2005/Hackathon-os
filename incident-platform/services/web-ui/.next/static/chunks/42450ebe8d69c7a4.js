(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59973,e=>{"use strict";var t=e.i(19217),r=e.i(88508),a=e.i(39024);let n=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));n.displayName="Card";let s=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));s.displayName="CardHeader";let l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let i=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));i.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent",r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>n,"CardContent",()=>o,"CardDescription",()=>i,"CardHeader",()=>s,"CardTitle",()=>l])},74783,e=>{"use strict";var t=e.i(19217),r=e.i(88508),a=e.i(39024);let n=r.forwardRef(({className:e,type:r,...n},s)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));n.displayName="Input",e.s(["Input",()=>n])},1131,e=>{"use strict";var t=e.i(19217),r=e.i(88508),a=e.i(39024);let n=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:n,className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})}));n.displayName="Table";let s=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("thead",{ref:n,className:(0,a.cn)("[&_tr]:border-b",e),...r}));s.displayName="TableHeader";let l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("tbody",{ref:n,className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r}));l.displayName="TableBody",r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("tfoot",{ref:n,className:(0,a.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let i=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("tr",{ref:n,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));i.displayName="TableRow";let o=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("th",{ref:n,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...r}));o.displayName="TableHead";let c=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("td",{ref:n,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));c.displayName="TableCell",r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("caption",{ref:n,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption",e.s(["Table",()=>n,"TableBody",()=>l,"TableCell",()=>c,"TableHead",()=>o,"TableHeader",()=>s,"TableRow",()=>i])},83687,(e,t,r)=>{"use strict";var a=e.r(88508),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,l=a.useEffect,i=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var d="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,d=a[1];return i(function(){n.value=r,n.getSnapshot=t,c(n)&&d({inst:n})},[e,r,t]),l(function(){return c(n)&&d({inst:n}),e(function(){c(n)&&d({inst:n})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},76545,(e,t,r)=>{"use strict";t.exports=e.r(83687)},29764,33597,64960,e=>{"use strict";let t;var r=e.i(88508),a=e.i(76545);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],58636);var n=Object.prototype.hasOwnProperty;let s=new WeakMap,l=()=>{},i=l(),o=Object,c=e=>e===i,d=e=>"function"==typeof e,u=(e,t)=>({...e,...t}),f=e=>d(e.then),m={},x={},p="undefined",h=typeof window!=p,g=typeof document!=p,v=h&&"Deno"in window,y=(e,t)=>{let r=s.get(e);return[()=>!c(t)&&e.get(t)||m,a=>{if(!c(t)){let n=e.get(t);t in x||(x[t]=n),r[5](t,u(n,a),n||m)}},r[6],()=>!c(t)&&t in x?x[t]:!c(t)&&e.get(t)||m]},b=!0,[j,w]=h&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[l,l],N={initFocus:e=>(g&&document.addEventListener("visibilitychange",e),j("focus",e),()=>{g&&document.removeEventListener("visibilitychange",e),w("focus",e)}),initReconnect:e=>{let t=()=>{b=!0,e()},r=()=>{b=!1};return j("online",t),j("offline",r),()=>{w("online",t),w("offline",r)}}},C=!r.default.useId,T=!h||v,R=e=>h&&typeof window.requestAnimationFrame!=p?window.requestAnimationFrame(e):setTimeout(e,1),k=T?r.useEffect:r.useLayoutEffect,E="u">typeof navigator&&navigator.connection,S=!T&&E&&(["slow-2g","2g"].includes(E.effectiveType)||E.saveData),D=new WeakMap,O=(e,t)=>e===`[object ${t}]`,I=0,_=e=>{let t,r,a=typeof e,n=o.prototype.toString.call(e),s=O(n,"Date"),l=O(n,"RegExp"),i=O(n,"Object");if(o(e)!==e||s||l)t=s?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=D.get(e))return t;if(t=++I+"~",D.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=_(e[r])+",";D.set(e,t)}if(i){t="#";let a=o.keys(e).sort();for(;!c(r=a.pop());)c(e[r])||(t+=r+":"+_(e[r])+",");D.set(e,t)}}return t},V=e=>{if(d(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?_(e):"",t]},A=0,M=()=>++A;async function F(...e){let[t,r,a,n]=e,l=u({populateCache:!0,throwOnError:!0},"boolean"==typeof n?{revalidate:n}:n||{}),o=l.populateCache,m=l.rollbackOnError,x=l.optimisticData,p=l.throwOnError;if(d(r)){let e=[];for(let a of t.keys())!/^\$(inf|sub)\$/.test(a)&&r(t.get(a)._k)&&e.push(a);return Promise.all(e.map(h))}return h(r);async function h(r){let n,[u]=V(r);if(!u)return;let[h,g]=y(t,u),[v,b,j,w]=s.get(t),N=()=>{let e=v[u];return(d(l.revalidate)?l.revalidate(h().data,r):!1!==l.revalidate)&&(delete j[u],delete w[u],e&&e[0])?e[0](2).then(()=>h().data):h().data};if(e.length<3)return N();let C=a,T=!1,R=M();b[u]=[R,0];let k=!c(x),E=h(),S=E.data,D=E._c,O=c(D)?S:D;if(k&&g({data:x=d(x)?x(O,S):x,_c:O}),d(C))try{C=C(O)}catch(e){n=e,T=!0}if(C&&f(C)){let e;if(C=await C.catch(e=>{n=e,T=!0}),R!==b[u][0]){if(T)throw n;return C}T&&k&&(e=n,"function"==typeof m?m(e):!1!==m)&&(o=!0,g({data:O,_c:i}))}if(o&&!T&&(d(o)?g({data:o(C,O),error:i,_c:i}):g({data:C,error:i,_c:i})),b[u][1]=M(),Promise.resolve(N()).then(()=>{g({_c:i})}),T){if(p)throw n;return}return C}}let L=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},P=(e,t)=>{if(!s.has(e)){let r=u(N,t),a=Object.create(null),n=F.bind(i,e),o=l,c=Object.create(null),d=(e,t)=>{let r=c[e]||[];return c[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},f=(t,r,a)=>{e.set(t,r);let n=c[t];if(n)for(let e of n)e(r,a)},m=()=>{if(!s.has(e)&&(s.set(e,[a,Object.create(null),Object.create(null),Object.create(null),n,f,d]),!T)){let t=r.initFocus(setTimeout.bind(i,L.bind(i,a,0))),n=r.initReconnect(setTimeout.bind(i,L.bind(i,a,1)));o=()=>{t&&t(),n&&n(),s.delete(e)}}};return m(),[e,n,m,o]}return[e,s.get(e)[4]]},[H,B]=P(new Map),U=u({onLoadingSlow:l,onSuccess:l,onError:l,onErrorRetry:(e,t,r,a,n)=>{let s=r.errorRetryCount,l=n.retryCount,i=~~((Math.random()+.5)*(1<<(l<8?l:8)))*r.errorRetryInterval;(c(s)||!(l>s))&&setTimeout(a,i,n)},onDiscarded:l,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:S?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:S?5e3:3e3,compare:function e(t,r){var a,s;if(t===r)return!0;if(t&&r&&(a=t.constructor)===r.constructor){if(a===Date)return t.getTime()===r.getTime();if(a===RegExp)return t.toString()===r.toString();if(a===Array){if((s=t.length)===r.length)for(;s--&&e(t[s],r[s]););return -1===s}if(!a||"object"==typeof t){for(a in s=0,t)if(n.call(t,a)&&++s&&!n.call(r,a)||!(a in r)||!e(t[a],r[a]))return!1;return Object.keys(r).length===s}}return t!=t&&r!=r},isPaused:()=>!1,cache:H,mutate:B,fallback:{}},{isOnline:()=>b,isVisible:()=>{let e=g&&document.visibilityState;return c(e)||"hidden"!==e}}),z=(e,t)=>{let r=u(e,t);if(t){let{use:a,fallback:n}=e,{use:s,fallback:l}=t;a&&s&&(r.use=a.concat(s)),n&&l&&(r.fallback=u(n,l))}return r},W=(0,r.createContext)({}),K=e=>{let{value:t}=e,a=(0,r.useContext)(W),n=d(t),s=(0,r.useMemo)(()=>n?t(a):t,[n,a,t]),l=(0,r.useMemo)(()=>n?s:z(a,s),[n,a,s]),o=s&&s.provider,c=(0,r.useRef)(i);o&&!c.current&&(c.current=P(o(l.cache||H),s));let f=c.current;return f&&(l.cache=f[0],l.mutate=f[1]),k(()=>{if(f)return f[2]&&f[2](),f[3]},[]),(0,r.createElement)(W.Provider,u(e,{value:l}))};e.s(["A",()=>l,"B",()=>f,"I",()=>T,"O",()=>o,"S",()=>W,"U",()=>i,"a",()=>d,"b",()=>s,"c",()=>H,"d",()=>U,"e",()=>c,"f",()=>z,"g",()=>K,"i",()=>h,"j",()=>B,"m",()=>u,"n",()=>F,"o",()=>M,"r",()=>C,"s",()=>V,"t",()=>R,"u",()=>k,"z",()=>y],33597);var $=e.i(58636);let q=h&&window.__SWR_DEVTOOLS_USE__,G=(q?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,a)=>{let n=r&&((...e)=>{let[a]=V(t),[,,,n]=s.get(H);if(a.startsWith("$inf$"))return r(...e);let l=n[a];return c(l)?r(...e):(delete n[a],l)});return e(t,n,a)});q&&(window.__SWR_DEVTOOLS_REACT__=r.default);let J=()=>{},X=J(),Y=(new WeakMap,r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),Z={dedupe:!0},Q=Promise.resolve(i),ee=()=>l;o.defineProperty(K,"defaultValue",{value:U});let et=(t=(e,t,n)=>{let{cache:l,compare:o,suspense:m,fallbackData:x,revalidateOnMount:p,revalidateIfStale:h,refreshInterval:g,refreshWhenHidden:v,refreshWhenOffline:b,keepPreviousData:j,strictServerPrefetchWarning:w}=n,[N,E,S,D]=s.get(l),[O,I]=V(e),_=(0,r.useRef)(!1),A=(0,r.useRef)(!1),L=(0,r.useRef)(O),P=(0,r.useRef)(t),H=(0,r.useRef)(n),B=()=>H.current.isVisible()&&H.current.isOnline(),[U,z,W,K]=y(l,O),q=(0,r.useRef)({}).current,G=c(x)?c(n.fallback)?i:n.fallback[O]:x,J=(e,t)=>{for(let r in q)if("data"===r){if(!o(e[r],t[r])&&(!c(e[r])||!o(eo,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},X=!_.current,et=(0,r.useMemo)(()=>{let e=U(),r=K(),a=e=>{let r=u(e);return(delete r._k,(()=>{if(!O||!t||H.current.isPaused())return!1;if(X&&!c(p))return p;let e=c(G)?r.data:G;return c(e)||h})())?{isValidating:!0,isLoading:!0,...r}:r},n=a(e),s=e===r?n:a(r),l=n;return[()=>{let e=a(U());return J(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>s]},[l,O]),er=(0,a.useSyncExternalStore)((0,r.useCallback)(e=>W(O,(t,r)=>{J(r,t)||e()}),[l,O]),et[0],et[1]),ea=N[O]&&N[O].length>0,en=er.data,es=c(en)?G&&f(G)?Y(G):G:en,el=er.error,ei=(0,r.useRef)(es),eo=j?c(en)?c(ei.current)?es:ei.current:en:es,ec=O&&c(es),ed=(0,r.useRef)(null);T||(0,a.useSyncExternalStore)(ee,()=>(ed.current=!1,ed),()=>(ed.current=!0,ed));let eu=ed.current;w&&eu&&!m&&ec&&console.warn(`Missing pre-initiated data for serialized key "${O}" during server-side rendering. Data fetching should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let ef=!(!O||!t||H.current.isPaused())&&(!ea||!!c(el))&&(X&&!c(p)?p:m?!c(es)&&h:c(es)||h),em=c(er.isValidating)?ef:er.isValidating,ex=c(er.isLoading)?ef:er.isLoading,ep=(0,r.useCallback)(async e=>{let t,r,a=P.current;if(!O||!a||A.current||H.current.isPaused())return!1;let s=!0,l=e||{},u=!S[O]||!l.dedupe,f=()=>C?!A.current&&O===L.current&&_.current:O===L.current,m={isValidating:!1,isLoading:!1},x=()=>{z(m)},p=()=>{let e=S[O];e&&e[1]===r&&delete S[O]},h={isValidating:!0};c(U().data)&&(h.isLoading=!0);try{if(u&&(z(h),n.loadingTimeout&&c(U().data)&&setTimeout(()=>{s&&f()&&H.current.onLoadingSlow(O,n)},n.loadingTimeout),S[O]=[a(I),M()]),[t,r]=S[O],t=await t,u&&setTimeout(p,n.dedupingInterval),!S[O]||S[O][1]!==r)return u&&f()&&H.current.onDiscarded(O),!1;m.error=i;let e=E[O];if(!c(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return x(),u&&f()&&H.current.onDiscarded(O),!1;let l=U().data;m.data=o(l,t)?l:t,u&&f()&&H.current.onSuccess(t,O,n)}catch(r){p();let e=H.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(m.error=r,u&&f()&&(e.onError(r,O,e),(!0===t||d(t)&&t(r))&&(!H.current.revalidateOnFocus||!H.current.revalidateOnReconnect||B())&&e.onErrorRetry(r,O,e,e=>{let t=N[O];t&&t[0]&&t[0]($.ERROR_REVALIDATE_EVENT,e)},{retryCount:(l.retryCount||0)+1,dedupe:!0})))}return s=!1,x(),!0},[O,l]),eh=(0,r.useCallback)((...e)=>F(l,L.current,...e),[]);if(k(()=>{P.current=t,H.current=n,c(en)||(ei.current=en)}),k(()=>{var e;let t;if(!O)return;let r=ep.bind(i,Z),a=0;H.current.revalidateOnFocus&&(a=Date.now()+H.current.focusThrottleInterval);let n=(e=(e,t={})=>{if(e==$.FOCUS_EVENT){let e=Date.now();H.current.revalidateOnFocus&&e>a&&B()&&(a=e+H.current.focusThrottleInterval,r())}else if(e==$.RECONNECT_EVENT)H.current.revalidateOnReconnect&&B()&&r();else if(e==$.MUTATE_EVENT)return ep();else if(e==$.ERROR_REVALIDATE_EVENT)return ep(t)},(t=N[O]||(N[O]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});return A.current=!1,L.current=O,_.current=!0,z({_k:I}),ef&&!S[O]&&(c(es)||T?r():R(r)),()=>{A.current=!0,n()}},[O]),k(()=>{let e;function t(){let t=d(g)?g(U().data):g;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!U().error&&(v||H.current.isVisible())&&(b||H.current.isOnline())?ep(Z).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[g,v,b,O]),(0,r.useDebugValue)(eo),m){if(!C&&T&&ec)throw Error("Fallback data is required when using Suspense in SSR.");ec&&(P.current=t,H.current=n,A.current=!1);let e=D[O];if(Y(!c(e)&&ec?eh(e):Q),!c(el)&&ec)throw el;let r=ec?ep(Z):Q;!c(eo)&&ec&&(r.status="fulfilled",r.value=!0),Y(r)}return{mutate:eh,get data(){return q.data=!0,eo},get error(){return q.error=!0,el},get isValidating(){return q.isValidating=!0,em},get isLoading(){return q.isLoading=!0,ex}}},function(...e){let a,n=(a=(0,r.useContext)(W),(0,r.useMemo)(()=>u(U,a),[a])),[s,l,i]=d(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],o=z(n,i),c=t,{use:f}=o,m=(f||[]).concat(G);for(let e=m.length;e--;)c=m[e](c);return c(s,l||o.fetcher||null,o)});e.s(["default",()=>et],29764);let er=(0,e.i(83493).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>er],64960)},69509,e=>{"use strict";var t=e.i(14294);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=t.clsx;e.s(["cva",0,(e,t)=>n=>{var s;if((null==t?void 0:t.variants)==null)return a(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:l,defaultVariants:i}=t,o=Object.keys(l).map(e=>{let t=null==n?void 0:n[e],a=null==i?void 0:i[e];if(null===t)return null;let s=r(t)||r(a);return l[e][s]}),c=n&&Object.entries(n).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return a(e,o,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...c}[t]):({...i,...c})[t]===r})?[...e,r,a]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}])},5492,21273,91544,e=>{"use strict";var t=e.i(19217),r=e.i(88508);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function s(...e){return r.useCallback(n(...e),e)}e.s(["composeRefs",()=>n,"useComposedRefs",()=>s],21273);var l=r.forwardRef((e,a)=>{let{children:n,...s}=e,l=r.Children.toArray(n),o=l.find(c);if(o){let e=o.props.children,n=l.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(i,{...s,ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,n):null})}return(0,t.jsx)(i,{...s,ref:a,children:n})});l.displayName="Slot";var i=r.forwardRef((e,t)=>{let{children:a,...s}=e;if(r.isValidElement(a)){var l;let e,i,o=(l=a,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref);return r.cloneElement(a,{...function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{s(...e),n(...e)}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(s,a.props),ref:t?n(t,o):o})}return r.Children.count(a)>1?r.Children.only(null):null});i.displayName="SlotClone";var o=({children:e})=>(0,t.jsx)(t.Fragment,{children:e});function c(e){return r.isValidElement(e)&&e.type===o}e.s(["Slot",()=>l],91544);var d=e.i(69509),u=e.i(39024);let f=(0,d.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=r.forwardRef(({className:e,variant:r,size:a,asChild:n=!1,...s},i)=>{let o=n?l:"button";return(0,t.jsx)(o,{className:(0,u.cn)(f({variant:r,size:a,className:e})),ref:i,...s})});m.displayName="Button",e.s(["Button",()=>m],5492)},17737,e=>{"use strict";var t=e.i(33597);e.s(["mutate",()=>t.j])},542,e=>{"use strict";let t=(0,e.i(83493).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],542)},48073,e=>{"use strict";var t=e.i(19217),r=e.i(69509),a=e.i(39024);let n=(0,r.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s({className:e,variant:r,...s}){return(0,t.jsx)("div",{className:(0,a.cn)(n({variant:r}),e),...s})}e.s(["Badge",()=>s])},81206,e=>{"use strict";var t=e.i(19217),r=e.i(88508),a=e.i(29764),n=e.i(17737),s=e.i(74022),l=e.i(59973),i=e.i(48073),o=e.i(5492),c=e.i(74783),d=e.i(21394),u=e.i(7852),f=e.i(69535),m=e.i(77160),x=e.i(13137),p=e.i(21273),h=e.i(97677),g=e.i(6816),v=e.i(29524),y=e.i(55743),b=e.i(46670),j="rovingFocusGroup.onEntryFocus",w={bubbles:!1,cancelable:!0},N="RovingFocusGroup",[C,T,R]=(0,x.createCollection)(N),[k,E]=(0,m.createContextScope)(N,[R]),[S,D]=k(N),O=r.forwardRef((e,r)=>(0,t.jsx)(C.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(C.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(I,{...e,ref:r})})}));O.displayName=N;var I=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:n,orientation:s,loop:l=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...x}=e,h=r.useRef(null),N=(0,p.useComposedRefs)(a,h),C=(0,b.useDirection)(i),[R=null,k]=(0,y.useControllableState)({prop:o,defaultProp:c,onChange:d}),[E,D]=r.useState(!1),O=(0,v.useCallbackRef)(u),I=T(n),_=r.useRef(!1),[V,A]=r.useState(0);return r.useEffect(()=>{let e=h.current;if(e)return e.addEventListener(j,O),()=>e.removeEventListener(j,O)},[O]),(0,t.jsx)(S,{scope:n,orientation:s,dir:C,loop:l,currentTabStopId:R,onItemFocus:r.useCallback(e=>k(e),[k]),onItemShiftTab:r.useCallback(()=>D(!0),[]),onFocusableItemAdd:r.useCallback(()=>A(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>A(e=>e-1),[]),children:(0,t.jsx)(g.Primitive.div,{tabIndex:E||0===V?-1:0,"data-orientation":s,...x,ref:N,style:{outline:"none",...e.style},onMouseDown:(0,f.composeEventHandlers)(e.onMouseDown,()=>{_.current=!0}),onFocus:(0,f.composeEventHandlers)(e.onFocus,e=>{let t=!_.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(j,w);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=I().filter(e=>e.focusable);M([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current),m)}}_.current=!1}),onBlur:(0,f.composeEventHandlers)(e.onBlur,()=>D(!1))})})}),_="RovingFocusGroupItem",V=r.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:n,focusable:s=!0,active:l=!1,tabStopId:i,...o}=e,c=(0,h.useId)(),d=i||c,u=D(_,n),m=u.currentTabStopId===d,x=T(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return r.useEffect(()=>{if(s)return p(),()=>v()},[s,p,v]),(0,t.jsx)(C.ItemSlot,{scope:n,id:d,focusable:s,active:l,children:(0,t.jsx)(g.Primitive.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...o,ref:a,onMouseDown:(0,f.composeEventHandlers)(e.onMouseDown,e=>{s?u.onItemFocus(d):e.preventDefault()}),onFocus:(0,f.composeEventHandlers)(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:(0,f.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return A[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&n.reverse();let s=n.indexOf(e.currentTarget);n=u.loop?(r=n,a=s+1,r.map((e,t)=>r[(a+t)%r.length])):n.slice(s+1)}setTimeout(()=>M(n))}})})})});V.displayName=_;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var F=e.i(35910),L="Tabs",[P,H]=(0,m.createContextScope)(L,[E]),B=E(),[U,z]=P(L),W=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,onValueChange:s,defaultValue:l,orientation:i="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=(0,b.useDirection)(o),[f,m]=(0,y.useControllableState)({prop:n,onChange:s,defaultProp:l});return(0,t.jsx)(U,{scope:a,baseId:(0,h.useId)(),value:f,onValueChange:m,orientation:i,dir:u,activationMode:c,children:(0,t.jsx)(g.Primitive.div,{dir:u,"data-orientation":i,...d,ref:r})})});W.displayName=L;var K="TabsList",$=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:n=!0,...s}=e,l=z(K,a),i=B(a);return(0,t.jsx)(O,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:n,children:(0,t.jsx)(g.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:r})})});$.displayName=K;var q="TabsTrigger",G=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,disabled:s=!1,...l}=e,i=z(q,a),o=B(a),c=Y(i.baseId,n),d=Z(i.baseId,n),u=n===i.value;return(0,t.jsx)(V,{asChild:!0,...o,focusable:!s,active:u,children:(0,t.jsx)(g.Primitive.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...l,ref:r,onMouseDown:(0,f.composeEventHandlers)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(n)}),onKeyDown:(0,f.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(n)}),onFocus:(0,f.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==i.activationMode;u||s||!e||i.onValueChange(n)})})})});G.displayName=q;var J="TabsContent",X=r.forwardRef((e,a)=>{let{__scopeTabs:n,value:s,forceMount:l,children:i,...o}=e,c=z(J,n),d=Y(c.baseId,s),u=Z(c.baseId,s),f=s===c.value,m=r.useRef(f);return r.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(F.Presence,{present:l||f,children:({present:r})=>(0,t.jsx)(g.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:u,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:m.current?"0s":void 0},children:r&&i})})});function Y(e,t){return`${e}-trigger-${t}`}function Z(e,t){return`${e}-content-${t}`}X.displayName=J;var Q=e.i(39024);let ee=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)($,{ref:a,className:(0,Q.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));ee.displayName=$.displayName;let et=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(G,{ref:a,className:(0,Q.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));et.displayName=G.displayName;let er=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(X,{ref:a,className:(0,Q.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));er.displayName=X.displayName;var ea=e.i(1131),en=e.i(83493);let es=(0,en.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var el=e.i(542);let ei=(0,en.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var eo=e.i(58861);let ec=(0,en.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var ed=e.i(64960),eu=e.i(96770);let ef=(0,en.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),em=(0,en.default)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var ex=e.i(55203),ep=e.i(10087);function eh(){let{data:e,error:r,isLoading:n}=(0,a.default)("/api/v1/schedules",s.fetcher,{refreshInterval:3e4}),{data:l}=(0,a.default)("/api/v1/escalations",s.fetcher,{refreshInterval:3e4}),i=e?.map(e=>e.team)??[];return(0,t.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"On-Call"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Manage rotations, overrides, and escalations"})]}),(0,t.jsx)(ey,{})]}),r&&(0,t.jsx)("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4 text-sm text-destructive",children:"Failed to load schedules. Make sure the API Gateway and On-Call Service are running."}),n&&(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(ed.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading schedules..."})]}),e&&(0,t.jsxs)(W,{defaultValue:"current",className:"w-full",children:[(0,t.jsxs)(ee,{children:[(0,t.jsx)(et,{value:"current",children:"Currently On-Call"}),(0,t.jsxs)(et,{value:"schedules",children:["Schedules (",e.length,")"]}),(0,t.jsxs)(et,{value:"escalations",children:["Escalations (",l?.length??0,")"]})]}),(0,t.jsx)(er,{value:"current",className:"mt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[i.map(e=>(0,t.jsx)(eg,{team:e},e)),0===i.length&&(0,t.jsx)("p",{className:"col-span-full py-12 text-center text-muted-foreground",children:"No schedules yet. Create one to get started."})]})}),(0,t.jsxs)(er,{value:"schedules",className:"mt-4 flex flex-col gap-4",children:[e.map(e=>(0,t.jsx)(ev,{schedule:e},e.team)),0===e.length&&(0,t.jsx)("p",{className:"py-12 text-center text-muted-foreground",children:"No schedules configured yet."})]}),(0,t.jsx)(er,{value:"escalations",className:"mt-4",children:(0,t.jsx)(eb,{escalations:l??[]})})]})]})}function eg({team:e}){let{data:u,isLoading:f}=(0,a.default)("/api/v1/oncall/current?team="+encodeURIComponent(e),s.fetcher,{refreshInterval:3e4}),[m,x]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[j,w]=(0,r.useState)(!1),[N,C]=(0,r.useState)(!1),[T,R]=(0,r.useState)(""),[k,E]=(0,r.useState)("");async function S(){if(p.trim()&&g.trim()){w(!0);try{await (0,s.setOverride)({team:e,user_name:p.trim(),user_email:g.trim(),reason:y.trim()||void 0}),(0,n.mutate)("/api/v1/oncall/current?team="+encodeURIComponent(e)),x(!1),h(""),v(""),b("")}catch(e){console.error("Override failed:",e)}finally{w(!1)}}}async function D(){w(!0);try{await (0,s.removeOverride)(e),(0,n.mutate)("/api/v1/oncall/current?team="+encodeURIComponent(e))}catch(e){console.error("Remove override failed:",e)}finally{w(!1)}}async function O(){if(T.trim()){w(!0);try{await (0,s.triggerEscalation)({team:e,incident_id:T.trim(),reason:k.trim()||void 0}),(0,n.mutate)("/api/v1/escalations"),C(!1),R(""),E("")}catch(e){console.error("Escalation failed:",e)}finally{w(!1)}}}return f?(0,t.jsx)(l.Card,{className:"border-border bg-card",children:(0,t.jsx)(l.CardContent,{className:"flex items-center justify-center py-8",children:(0,t.jsx)(ed.Loader2,{className:"h-5 w-5 animate-spin text-muted-foreground"})})}):u?(0,t.jsxs)(l.Card,{className:"border-border bg-card",children:[(0,t.jsx)(l.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium text-foreground",children:e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsxs)(d.Dialog,{open:m,onOpenChange:x,children:[(0,t.jsx)(d.DialogTrigger,{asChild:!0,children:(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",title:"Set override",children:(0,t.jsx)(em,{className:"h-3.5 w-3.5"})})}),(0,t.jsxs)(d.DialogContent,{children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsx)(d.DialogTitle,{children:"Set On-Call Override"}),(0,t.jsxs)(d.DialogDescription,{children:["Temporarily replace the primary on-call for ",e,"."]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 py-2",children:[(0,t.jsx)(c.Input,{placeholder:"Name",value:p,onChange:e=>h(e.target.value)}),(0,t.jsx)(c.Input,{placeholder:"Email",value:g,onChange:e=>v(e.target.value)}),(0,t.jsx)(c.Input,{placeholder:"Reason (optional)",value:y,onChange:e=>b(e.target.value)})]}),(0,t.jsxs)(d.DialogFooter,{children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),(0,t.jsx)(o.Button,{onClick:S,disabled:j,children:"Apply Override"})]})]})]}),(0,t.jsxs)(d.Dialog,{open:N,onOpenChange:C,children:[(0,t.jsx)(d.DialogTrigger,{asChild:!0,children:(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",title:"Escalate",children:(0,t.jsx)(ex.AlertTriangle,{className:"h-3.5 w-3.5"})})}),(0,t.jsxs)(d.DialogContent,{children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsx)(d.DialogTitle,{children:"Trigger Escalation"}),(0,t.jsxs)(d.DialogDescription,{children:["Escalate an incident to the next responder on ",e,"."]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 py-2",children:[(0,t.jsx)(c.Input,{placeholder:"Incident ID",value:T,onChange:e=>R(e.target.value)}),(0,t.jsx)(c.Input,{placeholder:"Reason (optional)",value:k,onChange:e=>E(e.target.value)})]}),(0,t.jsxs)(d.DialogFooter,{children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,t.jsx)(o.Button,{variant:"destructive",onClick:O,disabled:j||!T.trim(),children:"Escalate"})]})]})]})]})]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-primary/20 bg-primary/5 p-3",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsx)(ec,{className:"h-4 w-4 text-primary"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("span",{className:"text-xs font-medium uppercase tracking-wider text-primary",children:["Primary",u.primary.override&&(0,t.jsx)(i.Badge,{variant:"outline",className:"ml-2 text-[10px] text-yellow-600 dark:text-yellow-400",children:"Override"})]}),(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:u.primary.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:u.primary.email}),u.primary.reason&&(0,t.jsx)("span",{className:"mt-0.5 text-xs italic text-muted-foreground",children:u.primary.reason})]}),(0,t.jsxs)("div",{className:"ml-auto flex flex-col items-end gap-1",children:[(0,t.jsx)(es,{className:"h-4 w-4 text-muted-foreground"}),u.primary.override&&(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive",title:"Remove override",onClick:D,disabled:j,children:(0,t.jsx)(ep.X,{className:"h-3 w-3"})})]})]}),u.secondary&&(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/50 p-3",children:[(0,t.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-secondary",children:(0,t.jsx)(el.User,{className:"h-4 w-4 text-muted-foreground"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Secondary"}),(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:u.secondary.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:u.secondary.email})]})]})]})})]}):null}function ev({schedule:e}){let[a,c]=(0,r.useState)(!1);async function d(){if(confirm("Delete schedule for "+e.team+"?")){c(!0);try{await (0,s.deleteSchedule)(e.team),(0,n.mutate)("/api/v1/schedules")}catch(e){console.error("Delete failed:",e)}finally{c(!1)}}}return(0,t.jsxs)(l.Card,{className:"border-border bg-card",children:[(0,t.jsx)(l.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-secondary",children:(0,t.jsx)(ei,{className:"h-4 w-4 text-muted-foreground"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(l.CardTitle,{className:"text-sm font-medium text-foreground",children:e.team.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,t.jsxs)("p",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,t.jsx)(eo.Calendar,{className:"h-3 w-3"}),e.rotation_type," rotation"]})]}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:d,disabled:a,title:"Delete schedule",children:(0,t.jsx)(ef,{className:"h-4 w-4"})})]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3",children:e.members.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 px-3 py-2.5",children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-secondary text-xs font-medium text-foreground",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm text-foreground",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.email})]}),(0,t.jsx)(i.Badge,{variant:"outline",className:"primary"===e.role?"ml-auto text-primary":"ml-auto text-muted-foreground",children:e.role})]},e.email))})})]})}function ey(){let[e,a]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!1),[f,m]=(0,r.useState)(""),[x,p]=(0,r.useState)("weekly"),[h,g]=(0,r.useState)([{name:"",email:"",role:"primary"},{name:"",email:"",role:"secondary"}]);function v(e,t,r){g(a=>a.map((a,n)=>n===e?{...a,[t]:r}:a))}async function y(){let e=h.filter(e=>e.name.trim()&&e.email.trim());if(f.trim()&&0!==e.length){i(!0);try{await (0,s.createSchedule)({team:f.trim(),rotation_type:x,members:e.map(e=>({name:e.name.trim(),email:e.email.trim(),role:e.role}))}),(0,n.mutate)("/api/v1/schedules"),a(!1),m(""),p("weekly"),g([{name:"",email:"",role:"primary"},{name:"",email:"",role:"secondary"}])}catch(e){console.error("Create schedule failed:",e)}finally{i(!1)}}}return(0,t.jsxs)(d.Dialog,{open:e,onOpenChange:a,children:[(0,t.jsx)(d.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{className:"gap-1.5",children:[(0,t.jsx)(eu.Plus,{className:"h-4 w-4"}),"New Schedule"]})}),(0,t.jsxs)(d.DialogContent,{className:"max-w-lg",children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsx)(d.DialogTitle,{children:"Create On-Call Schedule"}),(0,t.jsx)(d.DialogDescription,{children:"Set up a new rotation for a team."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 py-2",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"Team Name"}),(0,t.jsx)(c.Input,{placeholder:"e.g. platform-team",value:f,onChange:e=>m(e.target.value)})]}),(0,t.jsxs)("div",{className:"w-40",children:[(0,t.jsx)("label",{className:"mb-1 block text-sm font-medium",children:"Rotation"}),(0,t.jsxs)(u.Select,{value:x,onValueChange:p,children:[(0,t.jsx)(u.SelectTrigger,{children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"daily",children:"Daily"}),(0,t.jsx)(u.SelectItem,{value:"weekly",children:"Weekly"}),(0,t.jsx)(u.SelectItem,{value:"biweekly",children:"Biweekly"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Members"}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[h.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Input,{placeholder:"Name",value:e.name,onChange:e=>v(r,"name",e.target.value),className:"flex-1"}),(0,t.jsx)(c.Input,{placeholder:"Email",value:e.email,onChange:e=>v(r,"email",e.target.value),className:"flex-1"}),(0,t.jsxs)(u.Select,{value:e.role,onValueChange:e=>v(r,"role",e),children:[(0,t.jsx)(u.SelectTrigger,{className:"w-28",children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"primary",children:"Primary"}),(0,t.jsx)(u.SelectItem,{value:"secondary",children:"Secondary"})]})]}),h.length>1&&(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 text-destructive",onClick:()=>{g(e=>e.filter((e,t)=>t!==r))},children:(0,t.jsx)(ep.X,{className:"h-3.5 w-3.5"})})]},r)),(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:function(){g(e=>[...e,{name:"",email:"",role:"secondary"}])},className:"mt-1 w-fit gap-1",children:[(0,t.jsx)(eu.Plus,{className:"h-3.5 w-3.5"}),"Add Member"]})]})]})]}),(0,t.jsxs)(d.DialogFooter,{children:[(0,t.jsx)(o.Button,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,t.jsx)(o.Button,{onClick:y,disabled:l||!f.trim(),children:"Create Schedule"})]})]})]})}function eb({escalations:e}){return 0===e.length?(0,t.jsx)("p",{className:"py-12 text-center text-muted-foreground",children:"No escalations recorded yet."}):(0,t.jsx)("div",{className:"rounded-xl border border-border bg-card",children:(0,t.jsxs)(ea.Table,{children:[(0,t.jsx)(ea.TableHeader,{children:(0,t.jsxs)(ea.TableRow,{className:"border-border hover:bg-transparent",children:[(0,t.jsx)(ea.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Team"}),(0,t.jsx)(ea.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Incident"}),(0,t.jsx)(ea.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Escalated To"}),(0,t.jsx)(ea.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Reason"}),(0,t.jsx)(ea.TableHead,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"When"})]})}),(0,t.jsx)(ea.TableBody,{children:e.map(e=>(0,t.jsxs)(ea.TableRow,{className:"border-border hover:bg-secondary/50",children:[(0,t.jsx)(ea.TableCell,{className:"text-sm font-medium text-foreground",children:e.team}),(0,t.jsx)(ea.TableCell,{className:"font-mono text-xs text-muted-foreground",children:e.incident_id.slice(0,8)}),(0,t.jsx)(ea.TableCell,{className:"text-sm text-foreground",children:e.escalated_to?e.escalated_to.name:"—"}),(0,t.jsx)(ea.TableCell,{className:"max-w-[200px] truncate text-sm text-muted-foreground",children:e.reason||"—"}),(0,t.jsx)(ea.TableCell,{className:"text-sm text-muted-foreground",children:function(e){let t=new Date,r=new Date(e),a=Math.floor((t.getTime()-r.getTime())/6e4);if(a<60)return a+"m ago";let n=Math.floor(a/60);return n<24?n+"h ago":Math.floor(n/24)+"d ago"}(e.timestamp)})]},e.escalation_id))})]})})}e.s(["default",()=>eh],81206)}]);